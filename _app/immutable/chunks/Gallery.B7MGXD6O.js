import{s as Lt,f as Ae,n as Vn,h as fe,o as Le,i as ct,e as Tt,j as ze,r as Ce,b as qe}from"./scheduler.DGlNlUkI.js";import{S as zt,i as Ct,g as pn,h as gn,j as b,f as k,k as A,a as mn,A as Fe,B as Nn,C as In,y as un,D as ht,E as Qn,z as pt,s as Te,m as Be,c as De,n as Ge,o as ke,d as Zn,p as Oe,b as He,t as gt,r as Xe,u as Ye,v as Ze,w as We}from"./index.aSnQmX6g.js";import"./transform.DbdcILkC.js";import{w as Je}from"./index.BESFf8XS.js";function vn(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}class an{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const r=this._partials;let e=0;for(let i=0;i<this._n&&i<32;i++){const l=r[i],o=t+l,u=Math.abs(t)<Math.abs(l)?t-(o-l):l-(o-t);u&&(r[e++]=u),t=o}return r[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let r=this._n,e,i,l,o=0;if(r>0){for(o=t[--r];r>0&&(e=o,i=t[--r],o=e+i,l=i-(o-e),!l););r>0&&(l<0&&t[r-1]<0||l>0&&t[r-1]>0)&&(i=l*2,e=o+i,i==e-o&&(o=e))}return o}}function*Ke(n){for(const t of n)yield*t}function se(n){return Array.from(Ke(n))}var C=1e-6,Ve=1e-12,$=Math.PI,K=$/2,Bt=$/4,Q=$*2,en=180/$,X=$/180,F=Math.abs,Qe=Math.atan,Cn=Math.atan2,B=Math.cos,D=Math.sin,Ue=Math.sign||function(n){return n>0?1:n<0?-1:0},sn=Math.sqrt;function je(n){return n>1?0:n<-1?$:Math.acos(n)}function qn(n){return n>1?K:n<-1?-K:Math.asin(n)}function V(){}function Un(n,t){n&&Gt.hasOwnProperty(n.type)&&Gt[n.type](n,t)}var Dt={Feature:function(n,t){Un(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,e=-1,i=r.length;++e<i;)Un(r[e].geometry,t)}},Gt={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)n=r[e],t.point(n[0],n[1],n[2])},LineString:function(n,t){vt(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)vt(r[e],t,0)},Polygon:function(n,t){kt(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)kt(r[e],t)},GeometryCollection:function(n,t){for(var r=n.geometries,e=-1,i=r.length;++e<i;)Un(r[e],t)}};function vt(n,t,r){var e=-1,i=n.length-r,l;for(t.lineStart();++e<i;)l=n[e],t.point(l[0],l[1],l[2]);t.lineEnd()}function kt(n,t){var r=-1,e=n.length;for(t.polygonStart();++r<e;)vt(n[r],t,1);t.polygonEnd()}function hn(n,t){n&&Dt.hasOwnProperty(n.type)?Dt[n.type](n,t):Un(n,t)}function dt(n){return[Cn(n[1],n[0]),qn(n[2])]}function Sn(n){var t=n[0],r=n[1],e=B(r);return[e*B(t),e*D(t),D(r)]}function On(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function jn(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function ot(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function Hn(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function _t(n){var t=sn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function St(n,t){function r(e,i){return e=n(e,i),t(e[0],e[1])}return n.invert&&t.invert&&(r.invert=function(e,i){return e=t.invert(e,i),e&&n.invert(e[0],e[1])}),r}function Et(n,t){return F(n)>$&&(n-=Math.round(n/Q)*Q),[n,t]}Et.invert=Et;function be(n,t,r){return(n%=Q)?t||r?St(Ht(n),Xt(t,r)):Ht(n):t||r?Xt(t,r):Et}function Ot(n){return function(t,r){return t+=n,F(t)>$&&(t-=Math.round(t/Q)*Q),[t,r]}}function Ht(n){var t=Ot(n);return t.invert=Ot(-n),t}function Xt(n,t){var r=B(n),e=D(n),i=B(t),l=D(t);function o(u,c){var s=B(c),a=B(u)*s,f=D(u)*s,h=D(c),p=h*r+a*e;return[Cn(f*i-p*l,a*r-h*e),qn(p*i+f*l)]}return o.invert=function(u,c){var s=B(c),a=B(u)*s,f=D(u)*s,h=D(c),p=h*i-f*l;return[Cn(f*i+h*l,a*r+p*e),qn(p*r-a*e)]},o}function xe(n,t,r,e,i,l){if(r){var o=B(t),u=D(t),c=e*r;i==null?(i=t+e*Q,l=t-c/2):(i=Yt(o,i),l=Yt(o,l),(e>0?i<l:i>l)&&(i+=e*Q));for(var s,a=i;e>0?a>l:a<l;a-=c)s=dt([o,-u*B(a),-u*D(a)]),n.point(s[0],s[1])}}function Yt(n,t){t=Sn(t),t[0]-=n,_t(t);var r=je(-t[1]);return((-t[2]<0?-r:r)+Q-C)%Q}function ce(){var n=[],t;return{point:function(r,e,i){t.push([r,e,i])},lineStart:function(){n.push(t=[])},lineEnd:V,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var r=n;return n=[],t=null,r}}}function Wn(n,t){return F(n[0]-t[0])<C&&F(n[1]-t[1])<C}function Xn(n,t,r,e){this.x=n,this.z=t,this.o=r,this.e=e,this.v=!1,this.n=this.p=null}function he(n,t,r,e,i){var l=[],o=[],u,c;if(n.forEach(function(g){if(!((E=g.length-1)<=0)){var E,d=g[0],P=g[E],S;if(Wn(d,P)){if(!d[2]&&!P[2]){for(i.lineStart(),u=0;u<E;++u)i.point((d=g[u])[0],d[1]);i.lineEnd();return}P[0]+=2*C}l.push(S=new Xn(d,g,null,!0)),o.push(S.o=new Xn(d,null,S,!1)),l.push(S=new Xn(P,g,null,!1)),o.push(S.o=new Xn(P,null,S,!0))}}),!!l.length){for(o.sort(t),Zt(l),Zt(o),u=0,c=o.length;u<c;++u)o[u].e=r=!r;for(var s=l[0],a,f;;){for(var h=s,p=!0;h.v;)if((h=h.n)===s)return;a=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(u=0,c=a.length;u<c;++u)i.point((f=a[u])[0],f[1]);else e(h.x,h.n.x,1,i);h=h.n}else{if(p)for(a=h.p.z,u=a.length-1;u>=0;--u)i.point((f=a[u])[0],f[1]);else e(h.x,h.p.x,-1,i);h=h.p}h=h.o,a=h.z,p=!p}while(!h.v);i.lineEnd()}}}function Zt(n){if(t=n.length){for(var t,r=0,e=n[0],i;++r<t;)e.n=i=n[r],i.p=e,e=i;e.n=i=n[0],i.p=e}}function lt(n){return F(n[0])<=$?n[0]:Ue(n[0])*((F(n[0])+$)%Q-$)}function ni(n,t){var r=lt(t),e=t[1],i=D(e),l=[D(r),-B(r),0],o=0,u=0,c=new an;i===1?e=K+C:i===-1&&(e=-K-C);for(var s=0,a=n.length;s<a;++s)if(h=(f=n[s]).length)for(var f,h,p=f[h-1],g=lt(p),E=p[1]/2+Bt,d=D(E),P=B(E),S=0;S<h;++S,g=_,d=M,P=L,p=w){var w=f[S],_=lt(w),y=w[1]/2+Bt,M=D(y),L=B(y),N=_-g,I=N>=0?1:-1,q=I*N,m=q>$,O=d*M;if(c.add(Cn(O*I*D(q),P*L+O*B(q))),o+=m?N+I*Q:N,m^g>=r^_>=r){var T=jn(Sn(p),Sn(w));_t(T);var z=jn(l,T);_t(z);var v=(m^N>=0?-1:1)*qn(z[2]);(e>v||e===v&&(T[0]||T[1]))&&(u+=m^N>=0?1:-1)}}return(o<-C||o<C&&c<-Ve)^u&1}function pe(n,t,r,e){return function(i){var l=t(i),o=ce(),u=t(o),c=!1,s,a,f,h={point:p,lineStart:E,lineEnd:d,polygonStart:function(){h.point=P,h.lineStart=S,h.lineEnd=w,a=[],s=[]},polygonEnd:function(){h.point=p,h.lineStart=E,h.lineEnd=d,a=se(a);var _=ni(s,e);a.length?(c||(i.polygonStart(),c=!0),he(a,ei,_,r,i)):_&&(c||(i.polygonStart(),c=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),a=s=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(_,y){n(_,y)&&i.point(_,y)}function g(_,y){l.point(_,y)}function E(){h.point=g,l.lineStart()}function d(){h.point=p,l.lineEnd()}function P(_,y){f.push([_,y]),u.point(_,y)}function S(){u.lineStart(),f=[]}function w(){P(f[0][0],f[0][1]),u.lineEnd();var _=u.clean(),y=o.result(),M,L=y.length,N,I,q;if(f.pop(),s.push(f),f=null,!!L){if(_&1){if(I=y[0],(N=I.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),M=0;M<N;++M)i.point((q=I[M])[0],q[1]);i.lineEnd()}return}L>1&&_&2&&y.push(y.pop().concat(y.shift())),a.push(y.filter(ti))}}return h}}function ti(n){return n.length>1}function ei(n,t){return((n=n.x)[0]<0?n[1]-K-C:K-n[1])-((t=t.x)[0]<0?t[1]-K-C:K-t[1])}const Wt=pe(function(){return!0},ii,oi,[-$,-K]);function ii(n){var t=NaN,r=NaN,e=NaN,i;return{lineStart:function(){n.lineStart(),i=1},point:function(l,o){var u=l>0?$:-$,c=F(l-t);F(c-$)<C?(n.point(t,r=(r+o)/2>0?K:-K),n.point(e,r),n.lineEnd(),n.lineStart(),n.point(u,r),n.point(l,r),i=0):e!==u&&c>=$&&(F(t-e)<C&&(t-=e*C),F(l-u)<C&&(l-=u*C),r=ri(t,r,l,o),n.point(e,r),n.lineEnd(),n.lineStart(),n.point(u,r),i=0),n.point(t=l,r=o),e=u},lineEnd:function(){n.lineEnd(),t=r=NaN},clean:function(){return 2-i}}}function ri(n,t,r,e){var i,l,o=D(n-r);return F(o)>C?Qe((D(t)*(l=B(e))*D(r)-D(e)*(i=B(t))*D(n))/(i*l*o)):(t+e)/2}function oi(n,t,r,e){var i;if(n==null)i=r*K,e.point(-$,i),e.point(0,i),e.point($,i),e.point($,0),e.point($,-i),e.point(0,-i),e.point(-$,-i),e.point(-$,0),e.point(-$,i);else if(F(n[0]-t[0])>C){var l=n[0]<t[0]?$:-$;i=r*l/2,e.point(-l,i),e.point(0,i),e.point(l,i)}else e.point(t[0],t[1])}function li(n){var t=B(n),r=2*X,e=t>0,i=F(t)>C;function l(a,f,h,p){xe(p,n,r,h,a,f)}function o(a,f){return B(a)*B(f)>t}function u(a){var f,h,p,g,E;return{lineStart:function(){g=p=!1,E=1},point:function(d,P){var S=[d,P],w,_=o(d,P),y=e?_?0:s(d,P):_?s(d+(d<0?$:-$),P):0;if(!f&&(g=p=_)&&a.lineStart(),_!==p&&(w=c(f,S),(!w||Wn(f,w)||Wn(S,w))&&(S[2]=1)),_!==p)E=0,_?(a.lineStart(),w=c(S,f),a.point(w[0],w[1])):(w=c(f,S),a.point(w[0],w[1],2),a.lineEnd()),f=w;else if(i&&f&&e^_){var M;!(y&h)&&(M=c(S,f,!0))&&(E=0,e?(a.lineStart(),a.point(M[0][0],M[0][1]),a.point(M[1][0],M[1][1]),a.lineEnd()):(a.point(M[1][0],M[1][1]),a.lineEnd(),a.lineStart(),a.point(M[0][0],M[0][1],3)))}_&&(!f||!Wn(f,S))&&a.point(S[0],S[1]),f=S,p=_,h=y},lineEnd:function(){p&&a.lineEnd(),f=null},clean:function(){return E|(g&&p)<<1}}}function c(a,f,h){var p=Sn(a),g=Sn(f),E=[1,0,0],d=jn(p,g),P=On(d,d),S=d[0],w=P-S*S;if(!w)return!h&&a;var _=t*P/w,y=-t*S/w,M=jn(E,d),L=Hn(E,_),N=Hn(d,y);ot(L,N);var I=M,q=On(L,I),m=On(I,I),O=q*q-m*(On(L,L)-1);if(!(O<0)){var T=sn(O),z=Hn(I,(-q-T)/m);if(ot(z,L),z=dt(z),!h)return z;var v=a[0],R=f[0],G=a[1],H=f[1],W;R<v&&(W=v,v=R,R=W);var wn=R-v,nn=F(wn-$)<C,ln=nn||wn<C;if(!nn&&H<G&&(W=G,G=H,H=W),ln?nn?G+H>0^z[1]<(F(z[0]-v)<C?G:H):G<=z[1]&&z[1]<=H:wn>$^(v<=z[0]&&z[0]<=R)){var tn=Hn(I,(-q+T)/m);return ot(tn,L),[z,dt(tn)]}}}function s(a,f){var h=e?n:$-n,p=0;return a<-h?p|=1:a>h&&(p|=2),f<-h?p|=4:f>h&&(p|=8),p}return pe(o,u,l,e?[0,-n]:[-$,n-$])}function ui(n,t,r,e,i,l){var o=n[0],u=n[1],c=t[0],s=t[1],a=0,f=1,h=c-o,p=s-u,g;if(g=r-o,!(!h&&g>0)){if(g/=h,h<0){if(g<a)return;g<f&&(f=g)}else if(h>0){if(g>f)return;g>a&&(a=g)}if(g=i-o,!(!h&&g<0)){if(g/=h,h<0){if(g>f)return;g>a&&(a=g)}else if(h>0){if(g<a)return;g<f&&(f=g)}if(g=e-u,!(!p&&g>0)){if(g/=p,p<0){if(g<a)return;g<f&&(f=g)}else if(p>0){if(g>f)return;g>a&&(a=g)}if(g=l-u,!(!p&&g<0)){if(g/=p,p<0){if(g>f)return;g>a&&(a=g)}else if(p>0){if(g<a)return;g<f&&(f=g)}return a>0&&(n[0]=o+a*h,n[1]=u+a*p),f<1&&(t[0]=o+f*h,t[1]=u+f*p),!0}}}}}var yn=1e9,Yn=-yn;function ai(n,t,r,e){function i(s,a){return n<=s&&s<=r&&t<=a&&a<=e}function l(s,a,f,h){var p=0,g=0;if(s==null||(p=o(s,f))!==(g=o(a,f))||c(s,a)<0^f>0)do h.point(p===0||p===3?n:r,p>1?e:t);while((p=(p+f+4)%4)!==g);else h.point(a[0],a[1])}function o(s,a){return F(s[0]-n)<C?a>0?0:3:F(s[0]-r)<C?a>0?2:1:F(s[1]-t)<C?a>0?1:0:a>0?3:2}function u(s,a){return c(s.x,a.x)}function c(s,a){var f=o(s,1),h=o(a,1);return f!==h?f-h:f===0?a[1]-s[1]:f===1?s[0]-a[0]:f===2?s[1]-a[1]:a[0]-s[0]}return function(s){var a=s,f=ce(),h,p,g,E,d,P,S,w,_,y,M,L={point:N,lineStart:O,lineEnd:T,polygonStart:q,polygonEnd:m};function N(v,R){i(v,R)&&a.point(v,R)}function I(){for(var v=0,R=0,G=p.length;R<G;++R)for(var H=p[R],W=1,wn=H.length,nn=H[0],ln,tn,kn=nn[0],cn=nn[1];W<wn;++W)ln=kn,tn=cn,nn=H[W],kn=nn[0],cn=nn[1],tn<=e?cn>e&&(kn-ln)*(e-tn)>(cn-tn)*(n-ln)&&++v:cn<=e&&(kn-ln)*(e-tn)<(cn-tn)*(n-ln)&&--v;return v}function q(){a=f,h=[],p=[],M=!0}function m(){var v=I(),R=M&&v,G=(h=se(h)).length;(R||G)&&(s.polygonStart(),R&&(s.lineStart(),l(null,null,1,s),s.lineEnd()),G&&he(h,u,v,l,s),s.polygonEnd()),a=s,h=p=g=null}function O(){L.point=z,p&&p.push(g=[]),y=!0,_=!1,S=w=NaN}function T(){h&&(z(E,d),P&&_&&f.rejoin(),h.push(f.result())),L.point=N,_&&a.lineEnd()}function z(v,R){var G=i(v,R);if(p&&g.push([v,R]),y)E=v,d=R,P=G,y=!1,G&&(a.lineStart(),a.point(v,R));else if(G&&_)a.point(v,R);else{var H=[S=Math.max(Yn,Math.min(yn,S)),w=Math.max(Yn,Math.min(yn,w))],W=[v=Math.max(Yn,Math.min(yn,v)),R=Math.max(Yn,Math.min(yn,R))];ui(H,W,n,t,r,e)?(_||(a.lineStart(),a.point(H[0],H[1])),a.point(W[0],W[1]),G||a.lineEnd(),M=!1):G&&(a.lineStart(),a.point(v,R),M=!1)}S=v,w=R,_=G}return L}}const mt=n=>n;var ut=new an,wt=new an,ge,ve,yt,Mt,rn={point:V,lineStart:V,lineEnd:V,polygonStart:function(){rn.lineStart=fi,rn.lineEnd=ci},polygonEnd:function(){rn.lineStart=rn.lineEnd=rn.point=V,ut.add(F(wt)),wt=new an},result:function(){var n=ut/2;return ut=new an,n}};function fi(){rn.point=si}function si(n,t){rn.point=de,ge=yt=n,ve=Mt=t}function de(n,t){wt.add(Mt*n-yt*t),yt=n,Mt=t}function ci(){de(ge,ve)}var En=1/0,bn=En,Fn=-En,xn=Fn,nt={point:hi,lineStart:V,lineEnd:V,polygonStart:V,polygonEnd:V,result:function(){var n=[[En,bn],[Fn,xn]];return Fn=xn=-(bn=En=1/0),n}};function hi(n,t){n<En&&(En=n),n>Fn&&(Fn=n),t<bn&&(bn=t),t>xn&&(xn=t)}var Pt=0,Rt=0,Mn=0,tt=0,et=0,dn=0,$t=0,Nt=0,Pn=0,_e,Se,U,j,J={point:fn,lineStart:Jt,lineEnd:Kt,polygonStart:function(){J.lineStart=vi,J.lineEnd=di},polygonEnd:function(){J.point=fn,J.lineStart=Jt,J.lineEnd=Kt},result:function(){var n=Pn?[$t/Pn,Nt/Pn]:dn?[tt/dn,et/dn]:Mn?[Pt/Mn,Rt/Mn]:[NaN,NaN];return Pt=Rt=Mn=tt=et=dn=$t=Nt=Pn=0,n}};function fn(n,t){Pt+=n,Rt+=t,++Mn}function Jt(){J.point=pi}function pi(n,t){J.point=gi,fn(U=n,j=t)}function gi(n,t){var r=n-U,e=t-j,i=sn(r*r+e*e);tt+=i*(U+n)/2,et+=i*(j+t)/2,dn+=i,fn(U=n,j=t)}function Kt(){J.point=fn}function vi(){J.point=_i}function di(){Ee(_e,Se)}function _i(n,t){J.point=Ee,fn(_e=U=n,Se=j=t)}function Ee(n,t){var r=n-U,e=t-j,i=sn(r*r+e*e);tt+=i*(U+n)/2,et+=i*(j+t)/2,dn+=i,i=j*n-U*t,$t+=i*(U+n),Nt+=i*(j+t),Pn+=i*3,fn(U=n,j=t)}function me(n){this._context=n}me.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._context.moveTo(n,t),this._point=1;break}case 1:{this._context.lineTo(n,t);break}default:{this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,Q);break}}},result:V};var It=new an,at,we,ye,Rn,$n,Tn={point:V,lineStart:function(){Tn.point=Si},lineEnd:function(){at&&Me(we,ye),Tn.point=V},polygonStart:function(){at=!0},polygonEnd:function(){at=null},result:function(){var n=+It;return It=new an,n}};function Si(n,t){Tn.point=Me,we=Rn=n,ye=$n=t}function Me(n,t){Rn-=n,$n-=t,It.add(sn(Rn*Rn+$n*$n)),Rn=n,$n=t}let Vt,it,Qt,Ut;class jt{constructor(t){this._append=t==null?Pe:Ei(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,r){switch(this._point){case 0:{this._append`M${t},${r}`,this._point=1;break}case 1:{this._append`L${t},${r}`;break}default:{if(this._append`M${t},${r}`,this._radius!==Qt||this._append!==it){const e=this._radius,i=this._;this._="",this._append`m0,${e}a${e},${e} 0 1,1 0,${-2*e}a${e},${e} 0 1,1 0,${2*e}z`,Qt=e,it=this._append,Ut=this._,this._=i}this._+=Ut;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Pe(n){let t=1;this._+=n[0];for(const r=n.length;t<r;++t)this._+=arguments[t]+n[t]}function Ei(n){const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);if(t>15)return Pe;if(t!==Vt){const r=10**t;Vt=t,it=function(i){let l=1;this._+=i[0];for(const o=i.length;l<o;++l)this._+=Math.round(arguments[l]*r)/r+i[l]}}return it}function mi(n,t){let r=3,e=4.5,i,l;function o(u){return u&&(typeof e=="function"&&l.pointRadius(+e.apply(this,arguments)),hn(u,i(l))),l.result()}return o.area=function(u){return hn(u,i(rn)),rn.result()},o.measure=function(u){return hn(u,i(Tn)),Tn.result()},o.bounds=function(u){return hn(u,i(nt)),nt.result()},o.centroid=function(u){return hn(u,i(J)),J.result()},o.projection=function(u){return arguments.length?(i=u==null?(n=null,mt):(n=u).stream,o):n},o.context=function(u){return arguments.length?(l=u==null?(t=null,new jt(r)):new me(t=u),typeof e!="function"&&l.pointRadius(e),o):t},o.pointRadius=function(u){return arguments.length?(e=typeof u=="function"?u:(l.pointRadius(+u),+u),o):e},o.digits=function(u){if(!arguments.length)return r;if(u==null)r=null;else{const c=Math.floor(u);if(!(c>=0))throw new RangeError(`invalid digits: ${u}`);r=c}return t===null&&(l=new jt(r)),o},o.projection(n).digits(r).context(t)}function qt(n){return function(t){var r=new At;for(var e in n)r[e]=n[e];return r.stream=t,r}}function At(){}At.prototype={constructor:At,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Ft(n,t,r){var e=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),e!=null&&n.clipExtent(null),hn(r,n.stream(nt)),t(nt.result()),e!=null&&n.clipExtent(e),n}function Re(n,t,r){return Ft(n,function(e){var i=t[1][0]-t[0][0],l=t[1][1]-t[0][1],o=Math.min(i/(e[1][0]-e[0][0]),l/(e[1][1]-e[0][1])),u=+t[0][0]+(i-o*(e[1][0]+e[0][0]))/2,c=+t[0][1]+(l-o*(e[1][1]+e[0][1]))/2;n.scale(150*o).translate([u,c])},r)}function wi(n,t,r){return Re(n,[[0,0],t],r)}function yi(n,t,r){return Ft(n,function(e){var i=+t,l=i/(e[1][0]-e[0][0]),o=(i-l*(e[1][0]+e[0][0]))/2,u=-l*e[0][1];n.scale(150*l).translate([o,u])},r)}function Mi(n,t,r){return Ft(n,function(e){var i=+t,l=i/(e[1][1]-e[0][1]),o=-l*e[0][0],u=(i-l*(e[1][1]+e[0][1]))/2;n.scale(150*l).translate([o,u])},r)}var bt=16,Pi=B(30*X);function xt(n,t){return+t?$i(n,t):Ri(n)}function Ri(n){return qt({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}function $i(n,t){function r(e,i,l,o,u,c,s,a,f,h,p,g,E,d){var P=s-e,S=a-i,w=P*P+S*S;if(w>4*t&&E--){var _=o+h,y=u+p,M=c+g,L=sn(_*_+y*y+M*M),N=qn(M/=L),I=F(F(M)-1)<C||F(l-f)<C?(l+f)/2:Cn(y,_),q=n(I,N),m=q[0],O=q[1],T=m-e,z=O-i,v=S*T-P*z;(v*v/w>t||F((P*T+S*z)/w-.5)>.3||o*h+u*p+c*g<Pi)&&(r(e,i,l,o,u,c,m,O,I,_/=L,y/=L,M,E,d),d.point(m,O),r(m,O,I,_,y,M,s,a,f,h,p,g,E,d))}}return function(e){var i,l,o,u,c,s,a,f,h,p,g,E,d={point:P,lineStart:S,lineEnd:_,polygonStart:function(){e.polygonStart(),d.lineStart=y},polygonEnd:function(){e.polygonEnd(),d.lineStart=S}};function P(N,I){N=n(N,I),e.point(N[0],N[1])}function S(){f=NaN,d.point=w,e.lineStart()}function w(N,I){var q=Sn([N,I]),m=n(N,I);r(f,h,a,p,g,E,f=m[0],h=m[1],a=N,p=q[0],g=q[1],E=q[2],bt,e),e.point(f,h)}function _(){d.point=P,e.lineEnd()}function y(){S(),d.point=M,d.lineEnd=L}function M(N,I){w(i=N,I),l=f,o=h,u=p,c=g,s=E,d.point=w}function L(){r(f,h,a,p,g,E,l,o,i,u,c,s,bt,e),d.lineEnd=_,_()}return d}}var Ni=qt({point:function(n,t){this.stream.point(n*X,t*X)}});function Ii(n){return qt({point:function(t,r){var e=n(t,r);return this.stream.point(e[0],e[1])}})}function Ai(n,t,r,e,i){function l(o,u){return o*=e,u*=i,[t+n*o,r-n*u]}return l.invert=function(o,u){return[(o-t)/n*e,(r-u)/n*i]},l}function ne(n,t,r,e,i,l){if(!l)return Ai(n,t,r,e,i);var o=B(l),u=D(l),c=o*n,s=u*n,a=o/n,f=u/n,h=(u*r-o*t)/n,p=(u*t+o*r)/n;function g(E,d){return E*=e,d*=i,[c*E-s*d+t,r-s*E-c*d]}return g.invert=function(E,d){return[e*(a*E-f*d+h),i*(p-f*E-a*d)]},g}function Li(n){return zi(function(){return n})()}function zi(n){var t,r=150,e=480,i=250,l=0,o=0,u=0,c=0,s=0,a,f=0,h=1,p=1,g=null,E=Wt,d=null,P,S,w,_=mt,y=.5,M,L,N,I,q;function m(v){return N(v[0]*X,v[1]*X)}function O(v){return v=N.invert(v[0],v[1]),v&&[v[0]*en,v[1]*en]}m.stream=function(v){return I&&q===v?I:I=Ni(Ii(a)(E(M(_(q=v)))))},m.preclip=function(v){return arguments.length?(E=v,g=void 0,z()):E},m.postclip=function(v){return arguments.length?(_=v,d=P=S=w=null,z()):_},m.clipAngle=function(v){return arguments.length?(E=+v?li(g=v*X):(g=null,Wt),z()):g*en},m.clipExtent=function(v){return arguments.length?(_=v==null?(d=P=S=w=null,mt):ai(d=+v[0][0],P=+v[0][1],S=+v[1][0],w=+v[1][1]),z()):d==null?null:[[d,P],[S,w]]},m.scale=function(v){return arguments.length?(r=+v,T()):r},m.translate=function(v){return arguments.length?(e=+v[0],i=+v[1],T()):[e,i]},m.center=function(v){return arguments.length?(l=v[0]%360*X,o=v[1]%360*X,T()):[l*en,o*en]},m.rotate=function(v){return arguments.length?(u=v[0]%360*X,c=v[1]%360*X,s=v.length>2?v[2]%360*X:0,T()):[u*en,c*en,s*en]},m.angle=function(v){return arguments.length?(f=v%360*X,T()):f*en},m.reflectX=function(v){return arguments.length?(h=v?-1:1,T()):h<0},m.reflectY=function(v){return arguments.length?(p=v?-1:1,T()):p<0},m.precision=function(v){return arguments.length?(M=xt(L,y=v*v),z()):sn(y)},m.fitExtent=function(v,R){return Re(m,v,R)},m.fitSize=function(v,R){return wi(m,v,R)},m.fitWidth=function(v,R){return yi(m,v,R)},m.fitHeight=function(v,R){return Mi(m,v,R)};function T(){var v=ne(r,0,0,h,p,f).apply(null,t(l,o)),R=ne(r,e-v[0],i-v[1],h,p,f);return a=be(u,c,s),L=St(t,R),N=St(a,L),M=xt(L,y),z()}function z(){return I=q=null,m}return function(){return t=n.apply(this,arguments),m.invert=t.invert&&O,T()}}var Bn=Math.abs,_n=Math.atan,$e=Math.atan2,Jn=Math.cos,on=Math.exp,Dn=Math.log,Ci=Math.pow,ft=Math.sign||function(n){return n>0?1:n<0?-1:0},An=Math.sin,Gn=Math.tan,Kn=1e-6,Y=Math.PI,x=Y/2,qi=Y/4,rt=Z(2);function Fi(n){return n>1?x:n<-1?-x:Math.asin(n)}function Z(n){return n>0?Math.sqrt(n):0}function Ti(n){return n=on(2*n),(n-1)/(n+1)}function Ne(n){return(on(n)-on(-n))/2}function Bi(n){return(on(n)+on(-n))/2}function Di(n){var t=n(x,0)[0]-n(-x,0)[0];function r(e,i){var l=e>0?-.5:.5,o=n(e+l*Y,i);return o[0]-=l*t,o}return n.invert&&(r.invert=function(e,i){var l=e>0?-.5:.5,o=n.invert(e+l*t,i),u=o[0]-l*Y;return u<-Y?u+=2*Y:u>Y&&(u-=2*Y),o[0]=u,o}),r}function Gi(n,t,r){var e,i,l;return n?(e=st(n,r),t?(i=st(t,1-r),l=i[1]*i[1]+r*e[0]*e[0]*i[0]*i[0],[[e[0]*i[2]/l,e[1]*e[2]*i[0]*i[1]/l],[e[1]*i[1]/l,-e[0]*e[2]*i[0]*i[2]/l],[e[2]*i[1]*i[2]/l,-r*e[0]*e[1]*i[0]/l]]):[[e[0],0],[e[1],0],[e[2],0]]):(i=st(t,1-r),[[0,i[0]/i[1]],[1/i[1],0],[i[2]/i[1],0]])}function st(n,t){var r,e,i,l,o;if(t<Kn)return l=An(n),e=Jn(n),r=t*(n-l*e)/4,[l-r*e,e+r*l,1-t*l*l/2,n-r];if(t>=1-Kn)return r=(1-t)/4,e=Bi(n),l=Ti(n),i=1/e,o=e*Ne(n),[l+r*(o-n)/(e*e),i-r*l*i*(o-n),i+r*l*i*(o+n),2*_n(on(n))-x+r*(o-n)/e];var u=[1,0,0,0,0,0,0,0,0],c=[Z(t),0,0,0,0,0,0,0,0],s=0;for(e=Z(1-t),o=1;Bn(c[s]/u[s])>Kn&&s<8;)r=u[s++],c[s]=(r-e)/2,u[s]=(r+e)/2,e=Z(r*e),o*=2;i=o*u[s]*n;do l=c[s]*An(e=i)/u[s],i=(Fi(l)+i)/2;while(--s);return[An(i),l=Jn(i),l/Jn(i-e),i]}function ki(n,t,r){var e=Bn(n),i=Bn(t),l=Ne(i);if(e){var o=1/An(e),u=1/(Gn(e)*Gn(e)),c=-(u+r*(l*l*o*o)-1+r),s=(r-1)*u,a=(-c+Z(c*c-4*s))/2;return[Ln(_n(1/Z(a)),r)*ft(n),Ln(_n(Z((a/u-1)/r)),1-r)*ft(t)]}return[0,Ln(_n(l),1-r)*ft(t)]}function Ln(n,t){if(!t)return n;if(t===1)return Dn(Gn(n/2+qi));for(var r=1,e=Z(1-t),i=Z(t),l=0;Bn(i)>Kn;l++){if(n%Y){var o=_n(e*Gn(n)/r);o<0&&(o+=Y),n+=o+~~(n/Y)*Y}else n+=n;i=(r+e)/2,e=Z(r*e),i=((r=i)-e)/2}return n/(Ci(2,l)*r)}function Ie(n,t){var r=(rt-1)/(rt+1),e=Z(1-r*r),i=Ln(x,e*e),l=-1,o=Dn(Gn(Y/4+Bn(t)/2)),u=on(l*o)/Z(r),c=Oi(u*Jn(l*n),u*An(l*n)),s=ki(c[0],c[1],e*e);return[-s[1],(t>=0?1:-1)*(.5*i-s[0])]}function Oi(n,t){var r=n*n,e=t+1,i=1-r-t*t;return[.5*((n>=0?x:-x)-$e(i,2*n)),-.25*Dn(i*i+4*r)+.5*Dn(e*e+r)]}function Hi(n,t){var r=t[0]*t[0]+t[1]*t[1];return[(n[0]*t[0]+n[1]*t[1])/r,(n[1]*t[0]-n[0]*t[1])/r]}Ie.invert=function(n,t){var r=(rt-1)/(rt+1),e=Z(1-r*r),i=Ln(x,e*e),l=-1,o=Gi(.5*i-t,-n,e*e),u=Hi(o[0],o[1]),c=$e(u[1],u[0])/l;return[c,2*_n(on(.5/l*Dn(r*u[0]*u[0]+r*u[1]*u[1])))-x]};function Xi(){return Li(Di(Ie)).scale(151.496)}function Yi(n){return n}function Zi(n){if(n==null)return Yi;var t,r,e=n.scale[0],i=n.scale[1],l=n.translate[0],o=n.translate[1];return function(u,c){c||(t=r=0);var s=2,a=u.length,f=new Array(a);for(f[0]=(t+=u[0])*e+l,f[1]=(r+=u[1])*i+o;s<a;)f[s]=u[s],++s;return f}}function Wi(n,t){for(var r,e=n.length,i=e-t;i<--e;)r=n[i],n[i++]=n[e],n[e]=r}function Ji(n,t){return t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(r){return te(n,r)})}:te(n,t)}function te(n,t){var r=t.id,e=t.bbox,i=t.properties==null?{}:t.properties,l=Ki(n,t);return r==null&&e==null?{type:"Feature",properties:i,geometry:l}:e==null?{type:"Feature",id:r,properties:i,geometry:l}:{type:"Feature",id:r,bbox:e,properties:i,geometry:l}}function Ki(n,t){var r=Zi(n.transform),e=n.arcs;function i(a,f){f.length&&f.pop();for(var h=e[a<0?~a:a],p=0,g=h.length;p<g;++p)f.push(r(h[p],p));a<0&&Wi(f,g)}function l(a){return r(a)}function o(a){for(var f=[],h=0,p=a.length;h<p;++h)i(a[h],f);return f.length<2&&f.push(f[0]),f}function u(a){for(var f=o(a);f.length<4;)f.push(f[0]);return f}function c(a){return a.map(u)}function s(a){var f=a.type,h;switch(f){case"GeometryCollection":return{type:f,geometries:a.geometries.map(s)};case"Point":h=l(a.coordinates);break;case"MultiPoint":h=a.coordinates.map(l);break;case"LineString":h=o(a.arcs);break;case"MultiLineString":h=a.arcs.map(o);break;case"Polygon":h=c(a.arcs);break;case"MultiPolygon":h=a.arcs.map(c);break;default:return null}return{type:f,coordinates:h}}return s(t)}let zn=Je("undefined");function ee(n,t,r){const e=n.slice();return e[9]=t[r],e}function ie(n,t,r){const e=n.slice();return e[12]=t[r],e}function re(n){let t,r,e,i,l=vn(n[4]),o=[];for(let s=0;s<l.length;s+=1)o[s]=oe(ie(n,l,s));let u=vn(n[0]),c=[];for(let s=0;s<u.length;s+=1)c[s]=le(ee(n,u,s));return{c(){t=Nn("svg"),r=Nn("g");for(let s=0;s<o.length;s+=1)o[s].c();e=Nn("g");for(let s=0;s<c.length;s+=1)c[s].c();this.h()},l(s){t=In(s,"svg",{viewBox:!0});var a=b(t);r=In(a,"g",{fill:!0});var f=b(r);for(let p=0;p<o.length;p+=1)o[p].l(f);f.forEach(k),e=In(a,"g",{fill:!0});var h=b(e);for(let p=0;p<c.length;p+=1)c[p].l(h);h.forEach(k),a.forEach(k),this.h()},h(){A(r,"fill","#1A1A1A"),A(e,"fill","var(--color-1)"),A(t,"viewBox",i="0 0 "+n[1]+" "+n[2])},m(s,a){mn(s,t,a),un(t,r);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(r,null);un(t,e);for(let f=0;f<c.length;f+=1)c[f]&&c[f].m(e,null)},p(s,a){if(a&48){l=vn(s[4]);let f;for(f=0;f<l.length;f+=1){const h=ie(s,l,f);o[f]?o[f].p(h,a):(o[f]=oe(h),o[f].c(),o[f].m(r,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=l.length}if(a&73){u=vn(s[0]);let f;for(f=0;f<u.length;f+=1){const h=ee(s,u,f);c[f]?c[f].p(h,a):(c[f]=le(h),c[f].c(),c[f].m(e,null))}for(;f<c.length;f+=1)c[f].d(1);c.length=u.length}a&6&&i!==(i="0 0 "+s[1]+" "+s[2])&&A(t,"viewBox",i)},d(s){s&&k(t),ht(o,s),ht(c,s)}}}function oe(n){let t,r;return{c(){t=Nn("path"),this.h()},l(e){t=In(e,"path",{d:!0,class:!0}),b(t).forEach(k),this.h()},h(){A(t,"d",r=n[5](n[12])),A(t,"class","state")},m(e,i){mn(e,t,i)},p(e,i){i&48&&r!==(r=e[5](e[12]))&&A(t,"d",r)},d(e){e&&k(t)}}}function le(n){let t,r,e,i;function l(){return n[7](n[9])}return{c(){t=Nn("circle"),this.h()},l(o){t=In(o,"circle",{r:!0,stroke:!0,transform:!0,class:!0}),b(t).forEach(k),this.h()},h(){A(t,"r","3"),A(t,"stroke","black"),A(t,"transform",r="translate("+n[3]([n[9].Longitude,n[9].Latitude])+")"),A(t,"class","svelte-1n23rrt"),Qn(t,"selected",n[6]==n[9].img)},m(o,u){mn(o,t,u),e||(i=pt(t,"mouseover",l),e=!0)},p(o,u){n=o,u&9&&r!==(r="translate("+n[3]([n[9].Longitude,n[9].Latitude])+")")&&A(t,"transform",r),u&65&&Qn(t,"selected",n[6]==n[9].img)},d(o){o&&k(t),e=!1,i()}}}function Vi(n){let t,r,e=n[3]!=null&&re(n);return{c(){t=pn("section"),e&&e.c(),this.h()},l(i){t=gn(i,"SECTION",{id:!0,bind:!0,class:!0});var l=b(t);e&&e.l(l),l.forEach(k),this.h()},h(){A(t,"id","map"),A(t,"bind",""),A(t,"class","svelte-1n23rrt"),Ae(()=>n[8].call(t))},m(i,l){mn(i,t,l),e&&e.m(t,null),r=Fe(t,n[8].bind(t))},p(i,[l]){i[3]!=null?e?e.p(i,l):(e=re(i),e.c(),e.m(t,null)):e&&(e.d(1),e=null)},i:Vn,o:Vn,d(i){i&&k(t),e&&e.d(),r()}}}function Qi(n,t,r){let e,i,l;fe(n,zn,h=>r(6,l=h));let{data:o}=t,u,c,s=[];Le(async()=>{const h=await fetch("https://gist.githubusercontent.com/sinanatra/91a7736f19e6636592703a459a8bfe75/raw/ca86b3ea72d66a68945624f3e933445c766aa28f/pixel25.json").then(p=>p.json());r(4,s=Ji(h,h.objects.pixel25).features)});const a=h=>{ct(zn,l=h.img,l)};function f(){u=this.clientWidth,c=this.clientHeight,r(1,u),r(2,c)}return n.$$set=h=>{"data"in h&&r(0,o=h.data)},n.$$.update=()=>{n.$$.dirty&6&&r(3,e=Xi().translate([u/2,c/2]).angle(-90).rotate([18,-90])),n.$$.dirty&8&&r(5,i=mi().projection(e))},[o,u,c,e,s,i,l,a,f]}let or=class extends zt{constructor(t){super(),Ct(this,t,Qi,Vi,Lt,{data:0})}};function Ui(n){let t,r,e,i,l,o,u,c,s=n[0].city+"",a,f,h;return{c(){t=pn("div"),r=pn("a"),e=pn("img"),u=Te(),c=pn("h4"),a=Be(s),this.h()},l(p){t=gn(p,"DIV",{class:!0});var g=b(t);r=gn(g,"A",{href:!0,target:!0,rel:!0});var E=b(r);e=gn(E,"IMG",{src:!0,alt:!0,srcset:!0,onerror:!0,class:!0}),E.forEach(k),u=De(g),c=gn(g,"H4",{class:!0});var d=b(c);a=Ge(d,s),d.forEach(k),g.forEach(k),this.h()},h(){Tt(e.src,i="https://lh3.googleusercontent.com/d/"+n[0].img.replace("https://drive.google.com/u/0/open?usp=forms_web&id=",""))||A(e,"src",i),A(e,"alt",""),ze(e,l="")||A(e,"srcset",l),A(e,"onerror","this.style.visibility='hidden'"),A(e,"class","svelte-catmu3"),A(r,"href",o=n[0].img),A(r,"target","_blank"),A(r,"rel","noopener noreferrer"),A(c,"class","svelte-catmu3"),A(t,"class","svelte-catmu3"),Qn(t,"selected",n[3]==n[0].img)},m(p,g){mn(p,t,g),un(t,r),un(r,e),un(t,u),un(t,c),un(c,a),n[6](t),f||(h=[pt(e,"mouseover",n[4]),pt(e,"focus",n[5])],f=!0)},p(p,[g]){g&1&&!Tt(e.src,i="https://lh3.googleusercontent.com/d/"+p[0].img.replace("https://drive.google.com/u/0/open?usp=forms_web&id=",""))&&A(e,"src",i),g&1&&o!==(o=p[0].img)&&A(r,"href",o),g&1&&s!==(s=p[0].city+"")&&ke(a,s),g&9&&Qn(t,"selected",p[3]==p[0].img)},i:Vn,o:Vn,d(p){p&&k(t),n[6](null),f=!1,Ce(h)}}}function ji(n,t,r){let e;fe(n,zn,a=>r(3,e=a));let{data:i}=t,l,o=!0;const u=()=>{r(2,o=!1),ct(zn,e=i.img,e)},c=()=>{r(2,o=!1),ct(zn,e=i.img,e)};function s(a){qe[a?"unshift":"push"](()=>{l=a,r(1,l)})}return n.$$set=a=>{"data"in a&&r(0,i=a.data)},n.$$.update=()=>{n.$$.dirty&15&&o&&e==i.img&&l&&l.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},[i,l,o,e,u,c,s]}class bi extends zt{constructor(t){super(),Ct(this,t,ji,Ui,Lt,{data:0})}}function ue(n,t,r){const e=n.slice();return e[1]=t[r],e}function ae(n){let t,r;return t=new bi({props:{data:n[1]}}),{c(){Xe(t.$$.fragment)},l(e){Ye(t.$$.fragment,e)},m(e,i){Ze(t,e,i),r=!0},p(e,i){const l={};i&1&&(l.data=e[1]),t.$set(l)},i(e){r||(Zn(t.$$.fragment,e),r=!0)},o(e){gt(t.$$.fragment,e),r=!1},d(e){We(t,e)}}}function xi(n){let t,r,e=vn(n[0]),i=[];for(let o=0;o<e.length;o+=1)i[o]=ae(ue(n,e,o));const l=o=>gt(i[o],1,1,()=>{i[o]=null});return{c(){t=pn("section");for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){t=gn(o,"SECTION",{class:!0});var u=b(t);for(let c=0;c<i.length;c+=1)i[c].l(u);u.forEach(k),this.h()},h(){A(t,"class","gallery svelte-1uvmkp7")},m(o,u){mn(o,t,u);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(t,null);r=!0},p(o,[u]){if(u&1){e=vn(o[0]);let c;for(c=0;c<e.length;c+=1){const s=ue(o,e,c);i[c]?(i[c].p(s,u),Zn(i[c],1)):(i[c]=ae(s),i[c].c(),Zn(i[c],1),i[c].m(t,null))}for(Oe(),c=e.length;c<i.length;c+=1)l(c);He()}},i(o){if(!r){for(let u=0;u<e.length;u+=1)Zn(i[u]);r=!0}},o(o){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)gt(i[u]);r=!1},d(o){o&&k(t),ht(i,o)}}}function nr(n,t,r){let{data:e}=t;return n.$$set=i=>{"data"in i&&r(0,e=i.data)},[e]}class ur extends zt{constructor(t){super(),Ct(this,t,nr,xi,Lt,{data:0})}}export{ur as G,or as M};
