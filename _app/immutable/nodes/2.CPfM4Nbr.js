import{s as Ht,n as nt,k as je,b as ke,o as $e,x as An,y as Vn,z as We,r as Ke,e as Qe}from"../chunks/scheduler.BhWSw_NN.js";import{S as Xt,i as Jt,e as st,c as lt,y as Te,o as b,j as X,g as q,d as Q,z as xe,A as It,B as Nt,k as pt,C as Cn,D as an,E as Rn,s as sn,b as ti,h as ln,f as ni,l as ei,t as ut,q as Ae,n as Ce,a as ct,u as Qt,v as xt,w as tn,x as nn,m as Zn}from"../chunks/index.DFWaV99-.js";import{w as ii}from"../chunks/index.D9Mff_Kq.js";function _t(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ri(t){let n,i=`<h1>Views from Mechanical Turk</h1> <h2>I asked the workers at Amazon Mechanical Turk to send me a photo of
        their view out of the window for $0.20. Here are the photos I received
        and the city they were sent from.</h2> <h3>Context</h3> <p>The following texts are extracted and updated (June, 2022) from the
        research conducted as part of the individual thesis project in the
        master department Information Design at Design Academy Eindhoven (NL),
        2019.
        <br/>More information
        <a href="https://thesis.giacomonanni.info/" target="_blank">here</a>.</p> <h3>Creating Datasets and Mechanical Turk</h3> <p>The ever-growing use of platforms such as Amazon Mechanical Turk, allow
        large groups of individuals to participate in creating, tagging and
        describing data.
        <br/>
        Introduced by Amazon in 2005, Mechanical Turk is named after an 18th century
        “automatic” chess-playing machine, which was handily beating humans in chess
        games. Of course, the robot was not using any artificial intelligence algorithms
        back then. The secret of the Mechanical Turk machine was a human operator,
        hidden inside the machine, who was the real intelligence (Ipeirotis, 2010).
        <br/> <img src="./mturk.png" alt="Mechanical Turk" class="svelte-1848ww5"/>
        Today, Amazon Mechanical Turk is a marketplace for tasks that cannot be easily
        automated, which are then fulfilled by human users.
        <br/>
        Such tasks, mainly involve the creation of datasets: collections of data
        that act as pedagogical learning material when dealing with Artificial intelligences,
        most specifically, machine learning systems. Current Artificial intelligences
        are, in fact, not programmed anymore in the old-fashioned way, where for
        instance to distinguish images of apples from pears lines of code expressing
        specific rules were written (e.g., if the colour is red, then it’s an apple).
        Instead, current machine learning models are able to &quot;learn” to execute such
        tasks by simply repeatedly analysing large numbers of labelled examples (images
        of apples) and counterexamples (images of pears). Although these materials
        are often created to test the performance of algorithms, they tend to show
        how little attention is placed on the quality of the data itself.
        <br/>
        Such data is analysed and processed by workers on platforms like Mechanical
        Turks. But little is known about these individuals that complete these tasks.
        Ipeirotis’s analysis shows that the majority of the workers are operating
        in the United States, with an increasing proportion coming from India in
        the past few years. But these analyses study the overall usage of those platforms,
        whereas there are no public traces of the turkers who helped shape any globally
        used dataset.</p> <h3>Images of the Process</h3> <div><img src="./img1.png" alt="Google Formulaire" class="svelte-1848ww5"/> <quote>A screenshot of the questionnaire provided on Mechanical Turks.</quote> <img src="./img2.png" alt="Mechanical Turk" class="svelte-1848ww5"/> <quote>A screenshot of the review page from Mechanical Turks.</quote></div> <h3>Geography of Datasets</h3> <quote>&quot;Information has always had geography. It is from somewhere; about
        somewhere; it evolves and is transformed somewhere; it is mediaxted by
        networks, infrastructures, and technologies: all of which exist in
        physical, material places&quot;</quote>
    (Graham et al., 2015).
    <p>Datasets are no exception. The information they carry is a reflection of
        time, politics and geographical contexts.
        <br/>
        Although, in the past years, there has been a growing attention of bias studies
        in the field of machine learning, there is still a general disinterest for
        the ones carried by the hidden geographies of datasets. If in Code/Space,
        Robert Kitchin and Martin Dodge wrote: Software matters because it alters
        the conditions through which society, space, and time, and thus spatiality,
        are produced, we could rewrite the sentence by saying that data matters,
        because it alters the conditions through which society, space, and time,
        and thus spatiality, are produced.
        <br/>
        Software produces multiple types of spatialities and datasets have their
        own geographic distribution. From the locations of their creators, that influence
        their browser navigation, to the digital platforms where the data is fetched,
        reaching until the original metadata of each source. All of these things
        are informational, but are also part of the place itself; they are part of
        how we enact and bring the place into being (Kitchin &amp; Dodge, 2011).
        <br/>
        The same research questions, should apply to the individuals that are employed
        to structure datasets.</p> <h3>The purpose of this website</h3> <p>As organisations use Mechanical Turk to create datasets, in this website
        a more private dataset is shown. Following the logic of the platform,
        for a small fee workers have been asked to show a glimpse of their
        private life, their view close to their desk, their working station. At
        the limit of ethics and labour exploitation we should ask ourselves
        whether this is an acceptable approach to use in research and in
        general, if employing randomic workers around the world is the ideal
        practice to shape future artificial intelligences.
        <br/>
        With this experiment, design becomes a critical tool, it investigates the
        sources of datasets, and it helps framing a critical discussion around the
        decisions that few individuals are taking. As Farinelli calls for a focus
        on digital geographies, which still suffers from a lack of attention, the
        same applies for the need for an “algorithmic culture” (Dourish, 2016) (Gillespie,
        2013)(Gillespie, T., &amp; Seaver, N., 2015 )(Striphas, 2015). Or more specifically
        an algorithmic literacy (Gillespie, 2013), making people understand that
        the tools they engage with will give certain types of answers back, and if
        they find those politically troubling, they should see them as artefacts
        of the way those systems work (ibidem).
        <br/>
        Design allows information to be questioned and awareness to be spread, even
        outside the strictly journalistic sense, focusing on what Verbeek (2005)
        calls mediated morality:</p> <quote>&quot;Designers cannot but help to shape moral decisions and practices.
        Designing is materializing morality.&quot;</quote> <h3>Bibliographic reference</h3> <p>Dourish, P. (2016). Algorithms and their others: Algorithmic culture in
        context. Big Data &amp; Society, 3(2), 205395171666512.
        https://doi.org/10.1177/2053951716665128
        <br/><br/>
        Graham et al., 2015, Towards a study of information geographies: [im]mutable
        augmentations and a mapping of the geographies of information. Retrieved
        17 January 2019, from https://rgs-ibg.onlinelibrary.wiley.com/doi/full/10.1002/geo2.8.
        <br/><br/>
        Gillespie, T. (2013, May 17). Tarleton Gillespie: ‘The Relevance of Algorithms’.
        Retrieved 30 January 2019, from https://vimeo.com/69641358
        <br/><br/>
        Gillespie, T., &amp; Seaver, N., 2015, Critical Algorithm Studies: a Reading
        List. Retrieved 18 January 2019, from https://socialmediacollective.org/reading-lists/critical-algorithm-studies/
        <br/><br/>
        Ipeirotis, P. G. (2010). Analyzing the Amazon Mechanical Turk marketplace.
        XRDS: Crossroads, The ACM Magazine for Students, 17(2), 16–21. https://doi.org/10.1145/1869086.1869094
        <br/><br/>
        Kitchin, R., &amp; Dodge, M. (2011). Code/space: software and everyday life.
        Cambridge, Mass: MIT Press.
        <br/><br/>
        Striphas, T. (2015). Algorithmic culture. European Journal of Cultural Studies,
        18(4–5), 395–412. https://doi.org/10.1177/1367549415577392
        <br/><br/>
        Verbeek, P.-P. (2005). What things do: Philosophical reflections on technology,
        agency, and design. University Park, Pa: Pennsylvania State University Press.
        <br/><br/>
        Verbeek, P.P. (2011), Moralizing Technology: Understanding and Designing
        the Morality of Things. Chicago and London: University of Chicago Press.</p>`;return{c(){n=st("section"),n.innerHTML=i,this.h()},l(e){n=lt(e,"SECTION",{class:!0,"data-svelte-h":!0}),Te(n)!=="svelte-192kcc5"&&(n.innerHTML=i),this.h()},h(){b(n,"class","desc svelte-1848ww5")},m(e,r){X(e,n,r)},p:nt,i:nt,o:nt,d(e){e&&q(n)}}}class oi extends Xt{constructor(n){super(),Jt(this,n,null,ri,Ht,{})}}class gt{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const i=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const a=i[r],o=n+a,l=Math.abs(n)<Math.abs(a)?n-(o-a):a-(o-n);l&&(i[e++]=l),n=o}return i[e]=n,this._n=e+1,this}valueOf(){const n=this._partials;let i=this._n,e,r,a,o=0;if(i>0){for(o=n[--i];i>0&&(e=o,r=n[--i],o=e+r,a=r-(o-e),!a););i>0&&(a<0&&n[i-1]<0||a>0&&n[i-1]>0)&&(r=a*2,e=o+r,r==e-o&&(o=e))}return o}}function*ai(t){for(const n of t)yield*n}function Re(t){return Array.from(ai(t))}var I=1e-6,si=1e-12,A=Math.PI,j=A/2,jn=A/4,K=A*2,ot=180/A,Y=A/180,L=Math.abs,li=Math.atan,zt=Math.atan2,z=Math.cos,F=Math.sin,ui=Math.sign||function(t){return t>0?1:t<0?-1:0},vt=Math.sqrt;function ci(t){return t>1?0:t<-1?A:Math.acos(t)}function Ft(t){return t>1?j:t<-1?-j:Math.asin(t)}function W(){}function un(t,n){t&&Kn.hasOwnProperty(t.type)&&Kn[t.type](t,n)}var Wn={Feature:function(t,n){un(t.geometry,n)},FeatureCollection:function(t,n){for(var i=t.features,e=-1,r=i.length;++e<r;)un(i[e].geometry,n)}},Kn={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var i=t.coordinates,e=-1,r=i.length;++e<r;)t=i[e],n.point(t[0],t[1],t[2])},LineString:function(t,n){bn(t.coordinates,n,0)},MultiLineString:function(t,n){for(var i=t.coordinates,e=-1,r=i.length;++e<r;)bn(i[e],n,0)},Polygon:function(t,n){Qn(t.coordinates,n)},MultiPolygon:function(t,n){for(var i=t.coordinates,e=-1,r=i.length;++e<r;)Qn(i[e],n)},GeometryCollection:function(t,n){for(var i=t.geometries,e=-1,r=i.length;++e<r;)un(i[e],n)}};function bn(t,n,i){var e=-1,r=t.length-i,a;for(n.lineStart();++e<r;)a=t[e],n.point(a[0],a[1],a[2]);n.lineEnd()}function Qn(t,n){var i=-1,e=t.length;for(n.polygonStart();++i<e;)bn(t[i],n,1);n.polygonEnd()}function wt(t,n){t&&Wn.hasOwnProperty(t.type)?Wn[t.type](t,n):un(t,n)}function Pn(t){return[zt(t[1],t[0]),Ft(t[2])]}function Et(t){var n=t[0],i=t[1],e=z(i);return[e*z(n),e*F(n),F(i)]}function Zt(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function cn(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function wn(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function jt(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function In(t){var n=vt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Nn(t,n){function i(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(i.invert=function(e,r){return e=n.invert(e,r),e&&t.invert(e[0],e[1])}),i}function qn(t,n){return L(t)>A&&(t-=Math.round(t/K)*K),[t,n]}qn.invert=qn;function fi(t,n,i){return(t%=K)?n||i?Nn(te(t),ne(n,i)):te(t):n||i?ne(n,i):qn}function xn(t){return function(n,i){return n+=t,L(n)>A&&(n-=Math.round(n/K)*K),[n,i]}}function te(t){var n=xn(t);return n.invert=xn(-t),n}function ne(t,n){var i=z(t),e=F(t),r=z(n),a=F(n);function o(l,c){var h=z(c),u=z(l)*h,s=F(l)*h,f=F(c),p=f*i+u*e;return[zt(s*r-p*a,u*i-f*e),Ft(p*r+s*a)]}return o.invert=function(l,c){var h=z(c),u=z(l)*h,s=F(l)*h,f=F(c),p=f*r-s*a;return[zt(s*r+f*a,u*i+p*e),Ft(p*i-u*e)]},o}function hi(t,n,i,e,r,a){if(i){var o=z(n),l=F(n),c=e*i;r==null?(r=n+e*K,a=n-c/2):(r=ee(o,r),a=ee(o,a),(e>0?r<a:r>a)&&(r+=e*K));for(var h,u=r;e>0?u>a:u<a;u-=c)h=Pn([o,-l*z(u),-l*F(u)]),t.point(h[0],h[1])}}function ee(t,n){n=Et(n),n[0]-=t,In(n);var i=ci(-n[1]);return((-n[2]<0?-i:i)+K-I)%K}function be(){var t=[],n;return{point:function(i,e,r){n.push([i,e,r])},lineStart:function(){t.push(n=[])},lineEnd:W,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var i=t;return t=[],n=null,i}}}function en(t,n){return L(t[0]-n[0])<I&&L(t[1]-n[1])<I}function Wt(t,n,i,e){this.x=t,this.z=n,this.o=i,this.e=e,this.v=!1,this.n=this.p=null}function Pe(t,n,i,e,r){var a=[],o=[],l,c;if(t.forEach(function(g){if(!((m=g.length-1)<=0)){var m,v=g[0],S=g[m],_;if(en(v,S)){if(!v[2]&&!S[2]){for(r.lineStart(),l=0;l<m;++l)r.point((v=g[l])[0],v[1]);r.lineEnd();return}S[0]+=2*I}a.push(_=new Wt(v,g,null,!0)),o.push(_.o=new Wt(v,null,_,!1)),a.push(_=new Wt(S,g,null,!1)),o.push(_.o=new Wt(S,null,_,!0))}}),!!a.length){for(o.sort(n),ie(a),ie(o),l=0,c=o.length;l<c;++l)o[l].e=i=!i;for(var h=a[0],u,s;;){for(var f=h,p=!0;f.v;)if((f=f.n)===h)return;u=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(l=0,c=u.length;l<c;++l)r.point((s=u[l])[0],s[1]);else e(f.x,f.n.x,1,r);f=f.n}else{if(p)for(u=f.p.z,l=u.length-1;l>=0;--l)r.point((s=u[l])[0],s[1]);else e(f.x,f.p.x,-1,r);f=f.p}f=f.o,u=f.z,p=!p}while(!f.v);r.lineEnd()}}}function ie(t){if(n=t.length){for(var n,i=0,e=t[0],r;++i<n;)e.n=r=t[i],r.p=e,e=r;e.n=r=t[0],r.p=e}}function _n(t){return L(t[0])<=A?t[0]:ui(t[0])*((L(t[0])+A)%K-A)}function pi(t,n){var i=_n(n),e=n[1],r=F(e),a=[F(i),-z(i),0],o=0,l=0,c=new gt;r===1?e=j+I:r===-1&&(e=-j-I);for(var h=0,u=t.length;h<u;++h)if(f=(s=t[h]).length)for(var s,f,p=s[f-1],g=_n(p),m=p[1]/2+jn,v=F(m),S=z(m),_=0;_<f;++_,g=w,v=M,S=C,p=y){var y=s[_],w=_n(y),E=y[1]/2+jn,M=F(E),C=z(E),$=w-g,R=$>=0?1:-1,N=R*$,k=N>A,B=v*M;if(c.add(zt(B*R*F(N),S*C+B*z(N))),o+=k?$+R*K:$,k^g>=i^w>=i){var D=cn(Et(p),Et(y));In(D);var P=cn(a,D);In(P);var d=(k^$>=0?-1:1)*Ft(P[2]);(e>d||e===d&&(D[0]||D[1]))&&(l+=k^$>=0?1:-1)}}return(o<-I||o<I&&c<-si)^l&1}function Ie(t,n,i,e){return function(r){var a=n(r),o=be(),l=n(o),c=!1,h,u,s,f={point:p,lineStart:m,lineEnd:v,polygonStart:function(){f.point=S,f.lineStart=_,f.lineEnd=y,u=[],h=[]},polygonEnd:function(){f.point=p,f.lineStart=m,f.lineEnd=v,u=Re(u);var w=pi(h,e);u.length?(c||(r.polygonStart(),c=!0),Pe(u,di,w,i,r)):w&&(c||(r.polygonStart(),c=!0),r.lineStart(),i(null,null,1,r),r.lineEnd()),c&&(r.polygonEnd(),c=!1),u=h=null},sphere:function(){r.polygonStart(),r.lineStart(),i(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function p(w,E){t(w,E)&&r.point(w,E)}function g(w,E){a.point(w,E)}function m(){f.point=g,a.lineStart()}function v(){f.point=p,a.lineEnd()}function S(w,E){s.push([w,E]),l.point(w,E)}function _(){l.lineStart(),s=[]}function y(){S(s[0][0],s[0][1]),l.lineEnd();var w=l.clean(),E=o.result(),M,C=E.length,$,R,N;if(s.pop(),h.push(s),s=null,!!C){if(w&1){if(R=E[0],($=R.length-1)>0){for(c||(r.polygonStart(),c=!0),r.lineStart(),M=0;M<$;++M)r.point((N=R[M])[0],N[1]);r.lineEnd()}return}C>1&&w&2&&E.push(E.pop().concat(E.shift())),u.push(E.filter(gi))}}return f}}function gi(t){return t.length>1}function di(t,n){return((t=t.x)[0]<0?t[1]-j-I:j-t[1])-((n=n.x)[0]<0?n[1]-j-I:j-n[1])}const re=Ie(function(){return!0},vi,wi,[-A,-j]);function vi(t){var n=NaN,i=NaN,e=NaN,r;return{lineStart:function(){t.lineStart(),r=1},point:function(a,o){var l=a>0?A:-A,c=L(a-n);L(c-A)<I?(t.point(n,i=(i+o)/2>0?j:-j),t.point(e,i),t.lineEnd(),t.lineStart(),t.point(l,i),t.point(a,i),r=0):e!==l&&c>=A&&(L(n-e)<I&&(n-=e*I),L(a-l)<I&&(a-=l*I),i=mi(n,i,a,o),t.point(e,i),t.lineEnd(),t.lineStart(),t.point(l,i),r=0),t.point(n=a,i=o),e=l},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-r}}}function mi(t,n,i,e){var r,a,o=F(t-i);return L(o)>I?li((F(n)*(a=z(e))*F(i)-F(e)*(r=z(n))*F(t))/(r*a*o)):(n+e)/2}function wi(t,n,i,e){var r;if(t==null)r=i*j,e.point(-A,r),e.point(0,r),e.point(A,r),e.point(A,0),e.point(A,-r),e.point(0,-r),e.point(-A,-r),e.point(-A,0),e.point(-A,r);else if(L(t[0]-n[0])>I){var a=t[0]<n[0]?A:-A;r=i*a/2,e.point(-a,r),e.point(0,r),e.point(a,r)}else e.point(n[0],n[1])}function _i(t){var n=z(t),i=2*Y,e=n>0,r=L(n)>I;function a(u,s,f,p){hi(p,t,i,f,u,s)}function o(u,s){return z(u)*z(s)>n}function l(u){var s,f,p,g,m;return{lineStart:function(){g=p=!1,m=1},point:function(v,S){var _=[v,S],y,w=o(v,S),E=e?w?0:h(v,S):w?h(v+(v<0?A:-A),S):0;if(!s&&(g=p=w)&&u.lineStart(),w!==p&&(y=c(s,_),(!y||en(s,y)||en(_,y))&&(_[2]=1)),w!==p)m=0,w?(u.lineStart(),y=c(_,s),u.point(y[0],y[1])):(y=c(s,_),u.point(y[0],y[1],2),u.lineEnd()),s=y;else if(r&&s&&e^w){var M;!(E&f)&&(M=c(_,s,!0))&&(m=0,e?(u.lineStart(),u.point(M[0][0],M[0][1]),u.point(M[1][0],M[1][1]),u.lineEnd()):(u.point(M[1][0],M[1][1]),u.lineEnd(),u.lineStart(),u.point(M[0][0],M[0][1],3)))}w&&(!s||!en(s,_))&&u.point(_[0],_[1]),s=_,p=w,f=E},lineEnd:function(){p&&u.lineEnd(),s=null},clean:function(){return m|(g&&p)<<1}}}function c(u,s,f){var p=Et(u),g=Et(s),m=[1,0,0],v=cn(p,g),S=Zt(v,v),_=v[0],y=S-_*_;if(!y)return!f&&u;var w=n*S/y,E=-n*_/y,M=cn(m,v),C=jt(m,w),$=jt(v,E);wn(C,$);var R=M,N=Zt(C,R),k=Zt(R,R),B=N*N-k*(Zt(C,C)-1);if(!(B<0)){var D=vt(B),P=jt(R,(-N-D)/k);if(wn(P,C),P=Pn(P),!f)return P;var d=u[0],T=s[0],G=u[1],O=s[1],V;T<d&&(V=d,d=T,T=V);var kt=T-d,it=L(kt-A)<I,ht=it||kt<I;if(!it&&O<G&&(V=G,G=O,O=V),ht?it?G+O>0^P[1]<(L(P[0]-d)<I?G:O):G<=P[1]&&P[1]<=O:kt>A^(d<=P[0]&&P[0]<=T)){var rt=jt(R,(-N+D)/k);return wn(rt,C),[P,Pn(rt)]}}}function h(u,s){var f=e?t:A-t,p=0;return u<-f?p|=1:u>f&&(p|=2),s<-f?p|=4:s>f&&(p|=8),p}return Ie(o,l,a,e?[0,-t]:[-A,t-A])}function yi(t,n,i,e,r,a){var o=t[0],l=t[1],c=n[0],h=n[1],u=0,s=1,f=c-o,p=h-l,g;if(g=i-o,!(!f&&g>0)){if(g/=f,f<0){if(g<u)return;g<s&&(s=g)}else if(f>0){if(g>s)return;g>u&&(u=g)}if(g=r-o,!(!f&&g<0)){if(g/=f,f<0){if(g>s)return;g>u&&(u=g)}else if(f>0){if(g<u)return;g<s&&(s=g)}if(g=e-l,!(!p&&g>0)){if(g/=p,p<0){if(g<u)return;g<s&&(s=g)}else if(p>0){if(g>s)return;g>u&&(u=g)}if(g=a-l,!(!p&&g<0)){if(g/=p,p<0){if(g>s)return;g>u&&(u=g)}else if(p>0){if(g<u)return;g<s&&(s=g)}return u>0&&(t[0]=o+u*f,t[1]=l+u*p),s<1&&(n[0]=o+s*f,n[1]=l+s*p),!0}}}}}var Tt=1e9,Kt=-Tt;function Si(t,n,i,e){function r(h,u){return t<=h&&h<=i&&n<=u&&u<=e}function a(h,u,s,f){var p=0,g=0;if(h==null||(p=o(h,s))!==(g=o(u,s))||c(h,u)<0^s>0)do f.point(p===0||p===3?t:i,p>1?e:n);while((p=(p+s+4)%4)!==g);else f.point(u[0],u[1])}function o(h,u){return L(h[0]-t)<I?u>0?0:3:L(h[0]-i)<I?u>0?2:1:L(h[1]-n)<I?u>0?1:0:u>0?3:2}function l(h,u){return c(h.x,u.x)}function c(h,u){var s=o(h,1),f=o(u,1);return s!==f?s-f:s===0?u[1]-h[1]:s===1?h[0]-u[0]:s===2?h[1]-u[1]:u[0]-h[0]}return function(h){var u=h,s=be(),f,p,g,m,v,S,_,y,w,E,M,C={point:$,lineStart:B,lineEnd:D,polygonStart:N,polygonEnd:k};function $(d,T){r(d,T)&&u.point(d,T)}function R(){for(var d=0,T=0,G=p.length;T<G;++T)for(var O=p[T],V=1,kt=O.length,it=O[0],ht,rt,Vt=it[0],mt=it[1];V<kt;++V)ht=Vt,rt=mt,it=O[V],Vt=it[0],mt=it[1],rt<=e?mt>e&&(Vt-ht)*(e-rt)>(mt-rt)*(t-ht)&&++d:mt<=e&&(Vt-ht)*(e-rt)<(mt-rt)*(t-ht)&&--d;return d}function N(){u=s,f=[],p=[],M=!0}function k(){var d=R(),T=M&&d,G=(f=Re(f)).length;(T||G)&&(h.polygonStart(),T&&(h.lineStart(),a(null,null,1,h),h.lineEnd()),G&&Pe(f,l,d,a,h),h.polygonEnd()),u=h,f=p=g=null}function B(){C.point=P,p&&p.push(g=[]),E=!0,w=!1,_=y=NaN}function D(){f&&(P(m,v),S&&w&&s.rejoin(),f.push(s.result())),C.point=$,w&&u.lineEnd()}function P(d,T){var G=r(d,T);if(p&&g.push([d,T]),E)m=d,v=T,S=G,E=!1,G&&(u.lineStart(),u.point(d,T));else if(G&&w)u.point(d,T);else{var O=[_=Math.max(Kt,Math.min(Tt,_)),y=Math.max(Kt,Math.min(Tt,y))],V=[d=Math.max(Kt,Math.min(Tt,d)),T=Math.max(Kt,Math.min(Tt,T))];yi(O,V,t,n,i,e)?(w||(u.lineStart(),u.point(O[0],O[1])),u.point(V[0],V[1]),G||u.lineEnd(),M=!1):G&&(u.lineStart(),u.point(d,T),M=!1)}_=d,y=T,w=G}return C}}const Ln=t=>t;var yn=new gt,Dn=new gt,Ne,qe,zn,Fn,at={point:W,lineStart:W,lineEnd:W,polygonStart:function(){at.lineStart=Ei,at.lineEnd=ki},polygonEnd:function(){at.lineStart=at.lineEnd=at.point=W,yn.add(L(Dn)),Dn=new gt},result:function(){var t=yn/2;return yn=new gt,t}};function Ei(){at.point=Mi}function Mi(t,n){at.point=Le,Ne=zn=t,qe=Fn=n}function Le(t,n){Dn.add(Fn*t-zn*n),zn=t,Fn=n}function ki(){Le(Ne,qe)}var Mt=1/0,fn=Mt,Gt=-Mt,hn=Gt,pn={point:$i,lineStart:W,lineEnd:W,polygonStart:W,polygonEnd:W,result:function(){var t=[[Mt,fn],[Gt,hn]];return Gt=hn=-(fn=Mt=1/0),t}};function $i(t,n){t<Mt&&(Mt=t),t>Gt&&(Gt=t),n<fn&&(fn=n),n>hn&&(hn=n)}var Gn=0,Bn=0,At=0,gn=0,dn=0,yt=0,On=0,Un=0,Ct=0,De,ze,x,tt,Z={point:dt,lineStart:oe,lineEnd:ae,polygonStart:function(){Z.lineStart=Ci,Z.lineEnd=Ri},polygonEnd:function(){Z.point=dt,Z.lineStart=oe,Z.lineEnd=ae},result:function(){var t=Ct?[On/Ct,Un/Ct]:yt?[gn/yt,dn/yt]:At?[Gn/At,Bn/At]:[NaN,NaN];return Gn=Bn=At=gn=dn=yt=On=Un=Ct=0,t}};function dt(t,n){Gn+=t,Bn+=n,++At}function oe(){Z.point=Ti}function Ti(t,n){Z.point=Ai,dt(x=t,tt=n)}function Ai(t,n){var i=t-x,e=n-tt,r=vt(i*i+e*e);gn+=r*(x+t)/2,dn+=r*(tt+n)/2,yt+=r,dt(x=t,tt=n)}function ae(){Z.point=dt}function Ci(){Z.point=bi}function Ri(){Fe(De,ze)}function bi(t,n){Z.point=Fe,dt(De=x=t,ze=tt=n)}function Fe(t,n){var i=t-x,e=n-tt,r=vt(i*i+e*e);gn+=r*(x+t)/2,dn+=r*(tt+n)/2,yt+=r,r=tt*t-x*n,On+=r*(x+t),Un+=r*(tt+n),Ct+=r*3,dt(x=t,tt=n)}function Ge(t){this._context=t}Ge.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,K);break}}},result:W};var Yn=new gt,Sn,Be,Oe,Rt,bt,Bt={point:W,lineStart:function(){Bt.point=Pi},lineEnd:function(){Sn&&Ue(Be,Oe),Bt.point=W},polygonStart:function(){Sn=!0},polygonEnd:function(){Sn=null},result:function(){var t=+Yn;return Yn=new gt,t}};function Pi(t,n){Bt.point=Ue,Be=Rt=t,Oe=bt=n}function Ue(t,n){Rt-=t,bt-=n,Yn.add(vt(Rt*Rt+bt*bt)),Rt=t,bt=n}let se,vn,le,ue;class ce{constructor(n){this._append=n==null?Ye:Ii(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,i){switch(this._point){case 0:{this._append`M${n},${i}`,this._point=1;break}case 1:{this._append`L${n},${i}`;break}default:{if(this._append`M${n},${i}`,this._radius!==le||this._append!==vn){const e=this._radius,r=this._;this._="",this._append`m0,${e}a${e},${e} 0 1,1 0,${-2*e}a${e},${e} 0 1,1 0,${2*e}z`,le=e,vn=this._append,ue=this._,this._=r}this._+=ue;break}}}result(){const n=this._;return this._="",n.length?n:null}}function Ye(t){let n=1;this._+=t[0];for(const i=t.length;n<i;++n)this._+=arguments[n]+t[n]}function Ii(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return Ye;if(n!==se){const i=10**n;se=n,vn=function(r){let a=1;this._+=r[0];for(const o=r.length;a<o;++a)this._+=Math.round(arguments[a]*i)/i+r[a]}}return vn}function Ni(t,n){let i=3,e=4.5,r,a;function o(l){return l&&(typeof e=="function"&&a.pointRadius(+e.apply(this,arguments)),wt(l,r(a))),a.result()}return o.area=function(l){return wt(l,r(at)),at.result()},o.measure=function(l){return wt(l,r(Bt)),Bt.result()},o.bounds=function(l){return wt(l,r(pn)),pn.result()},o.centroid=function(l){return wt(l,r(Z)),Z.result()},o.projection=function(l){return arguments.length?(r=l==null?(t=null,Ln):(t=l).stream,o):t},o.context=function(l){return arguments.length?(a=l==null?(n=null,new ce(i)):new Ge(n=l),typeof e!="function"&&a.pointRadius(e),o):n},o.pointRadius=function(l){return arguments.length?(e=typeof l=="function"?l:(a.pointRadius(+l),+l),o):e},o.digits=function(l){if(!arguments.length)return i;if(l==null)i=null;else{const c=Math.floor(l);if(!(c>=0))throw new RangeError(`invalid digits: ${l}`);i=c}return n===null&&(a=new ce(i)),o},o.projection(t).digits(i).context(n)}function Xn(t){return function(n){var i=new Hn;for(var e in t)i[e]=t[e];return i.stream=n,i}}function Hn(){}Hn.prototype={constructor:Hn,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Jn(t,n,i){var e=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),e!=null&&t.clipExtent(null),wt(i,t.stream(pn)),n(pn.result()),e!=null&&t.clipExtent(e),t}function He(t,n,i){return Jn(t,function(e){var r=n[1][0]-n[0][0],a=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),a/(e[1][1]-e[0][1])),l=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,c=+n[0][1]+(a-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([l,c])},i)}function qi(t,n,i){return He(t,[[0,0],n],i)}function Li(t,n,i){return Jn(t,function(e){var r=+n,a=r/(e[1][0]-e[0][0]),o=(r-a*(e[1][0]+e[0][0]))/2,l=-a*e[0][1];t.scale(150*a).translate([o,l])},i)}function Di(t,n,i){return Jn(t,function(e){var r=+n,a=r/(e[1][1]-e[0][1]),o=-a*e[0][0],l=(r-a*(e[1][1]+e[0][1]))/2;t.scale(150*a).translate([o,l])},i)}var fe=16,zi=z(30*Y);function he(t,n){return+n?Gi(t,n):Fi(t)}function Fi(t){return Xn({point:function(n,i){n=t(n,i),this.stream.point(n[0],n[1])}})}function Gi(t,n){function i(e,r,a,o,l,c,h,u,s,f,p,g,m,v){var S=h-e,_=u-r,y=S*S+_*_;if(y>4*n&&m--){var w=o+f,E=l+p,M=c+g,C=vt(w*w+E*E+M*M),$=Ft(M/=C),R=L(L(M)-1)<I||L(a-s)<I?(a+s)/2:zt(E,w),N=t(R,$),k=N[0],B=N[1],D=k-e,P=B-r,d=_*D-S*P;(d*d/y>n||L((S*D+_*P)/y-.5)>.3||o*f+l*p+c*g<zi)&&(i(e,r,a,o,l,c,k,B,R,w/=C,E/=C,M,m,v),v.point(k,B),i(k,B,R,w,E,M,h,u,s,f,p,g,m,v))}}return function(e){var r,a,o,l,c,h,u,s,f,p,g,m,v={point:S,lineStart:_,lineEnd:w,polygonStart:function(){e.polygonStart(),v.lineStart=E},polygonEnd:function(){e.polygonEnd(),v.lineStart=_}};function S($,R){$=t($,R),e.point($[0],$[1])}function _(){s=NaN,v.point=y,e.lineStart()}function y($,R){var N=Et([$,R]),k=t($,R);i(s,f,u,p,g,m,s=k[0],f=k[1],u=$,p=N[0],g=N[1],m=N[2],fe,e),e.point(s,f)}function w(){v.point=S,e.lineEnd()}function E(){_(),v.point=M,v.lineEnd=C}function M($,R){y(r=$,R),a=s,o=f,l=p,c=g,h=m,v.point=y}function C(){i(s,f,u,p,g,m,a,o,r,l,c,h,fe,e),v.lineEnd=w,w()}return v}}var Bi=Xn({point:function(t,n){this.stream.point(t*Y,n*Y)}});function Oi(t){return Xn({point:function(n,i){var e=t(n,i);return this.stream.point(e[0],e[1])}})}function Ui(t,n,i,e,r){function a(o,l){return o*=e,l*=r,[n+t*o,i-t*l]}return a.invert=function(o,l){return[(o-n)/t*e,(i-l)/t*r]},a}function pe(t,n,i,e,r,a){if(!a)return Ui(t,n,i,e,r);var o=z(a),l=F(a),c=o*t,h=l*t,u=o/t,s=l/t,f=(l*i-o*n)/t,p=(l*n+o*i)/t;function g(m,v){return m*=e,v*=r,[c*m-h*v+n,i-h*m-c*v]}return g.invert=function(m,v){return[e*(u*m-s*v+f),r*(p-s*m-u*v)]},g}function Yi(t){return Hi(function(){return t})()}function Hi(t){var n,i=150,e=480,r=250,a=0,o=0,l=0,c=0,h=0,u,s=0,f=1,p=1,g=null,m=re,v=null,S,_,y,w=Ln,E=.5,M,C,$,R,N;function k(d){return $(d[0]*Y,d[1]*Y)}function B(d){return d=$.invert(d[0],d[1]),d&&[d[0]*ot,d[1]*ot]}k.stream=function(d){return R&&N===d?R:R=Bi(Oi(u)(m(M(w(N=d)))))},k.preclip=function(d){return arguments.length?(m=d,g=void 0,P()):m},k.postclip=function(d){return arguments.length?(w=d,v=S=_=y=null,P()):w},k.clipAngle=function(d){return arguments.length?(m=+d?_i(g=d*Y):(g=null,re),P()):g*ot},k.clipExtent=function(d){return arguments.length?(w=d==null?(v=S=_=y=null,Ln):Si(v=+d[0][0],S=+d[0][1],_=+d[1][0],y=+d[1][1]),P()):v==null?null:[[v,S],[_,y]]},k.scale=function(d){return arguments.length?(i=+d,D()):i},k.translate=function(d){return arguments.length?(e=+d[0],r=+d[1],D()):[e,r]},k.center=function(d){return arguments.length?(a=d[0]%360*Y,o=d[1]%360*Y,D()):[a*ot,o*ot]},k.rotate=function(d){return arguments.length?(l=d[0]%360*Y,c=d[1]%360*Y,h=d.length>2?d[2]%360*Y:0,D()):[l*ot,c*ot,h*ot]},k.angle=function(d){return arguments.length?(s=d%360*Y,D()):s*ot},k.reflectX=function(d){return arguments.length?(f=d?-1:1,D()):f<0},k.reflectY=function(d){return arguments.length?(p=d?-1:1,D()):p<0},k.precision=function(d){return arguments.length?(M=he(C,E=d*d),P()):vt(E)},k.fitExtent=function(d,T){return He(k,d,T)},k.fitSize=function(d,T){return qi(k,d,T)},k.fitWidth=function(d,T){return Li(k,d,T)},k.fitHeight=function(d,T){return Di(k,d,T)};function D(){var d=pe(i,0,0,f,p,s).apply(null,n(a,o)),T=pe(i,e-d[0],r-d[1],f,p,s);return u=fi(l,c,h),C=Nn(n,T),$=Nn(u,C),M=he(C,E),P()}function P(){return R=N=null,k}return function(){return n=t.apply(this,arguments),k.invert=n.invert&&B,D()}}var Ot=Math.abs,St=Math.atan,Xe=Math.atan2,rn=Math.cos,ft=Math.exp,Ut=Math.log,Xi=Math.pow,En=Math.sign||function(t){return t>0?1:t<0?-1:0},qt=Math.sin,Yt=Math.tan,on=1e-6,H=Math.PI,et=H/2,Ji=H/4,mn=J(2);function Vi(t){return t>1?et:t<-1?-et:Math.asin(t)}function J(t){return t>0?Math.sqrt(t):0}function Zi(t){return t=ft(2*t),(t-1)/(t+1)}function Je(t){return(ft(t)-ft(-t))/2}function ji(t){return(ft(t)+ft(-t))/2}function Wi(t){var n=t(et,0)[0]-t(-et,0)[0];function i(e,r){var a=e>0?-.5:.5,o=t(e+a*H,r);return o[0]-=a*n,o}return t.invert&&(i.invert=function(e,r){var a=e>0?-.5:.5,o=t.invert(e+a*n,r),l=o[0]-a*H;return l<-H?l+=2*H:l>H&&(l-=2*H),o[0]=l,o}),i}function Ki(t,n,i){var e,r,a;return t?(e=Mn(t,i),n?(r=Mn(n,1-i),a=r[1]*r[1]+i*e[0]*e[0]*r[0]*r[0],[[e[0]*r[2]/a,e[1]*e[2]*r[0]*r[1]/a],[e[1]*r[1]/a,-e[0]*e[2]*r[0]*r[2]/a],[e[2]*r[1]*r[2]/a,-i*e[0]*e[1]*r[0]/a]]):[[e[0],0],[e[1],0],[e[2],0]]):(r=Mn(n,1-i),[[0,r[0]/r[1]],[1/r[1],0],[r[2]/r[1],0]])}function Mn(t,n){var i,e,r,a,o;if(n<on)return a=qt(t),e=rn(t),i=n*(t-a*e)/4,[a-i*e,e+i*a,1-n*a*a/2,t-i];if(n>=1-on)return i=(1-n)/4,e=ji(t),a=Zi(t),r=1/e,o=e*Je(t),[a+i*(o-t)/(e*e),r-i*a*r*(o-t),r+i*a*r*(o+t),2*St(ft(t))-et+i*(o-t)/e];var l=[1,0,0,0,0,0,0,0,0],c=[J(n),0,0,0,0,0,0,0,0],h=0;for(e=J(1-n),o=1;Ot(c[h]/l[h])>on&&h<8;)i=l[h++],c[h]=(i-e)/2,l[h]=(i+e)/2,e=J(i*e),o*=2;r=o*l[h]*t;do a=c[h]*qt(e=r)/l[h],r=(Vi(a)+r)/2;while(--h);return[qt(r),a=rn(r),a/rn(r-e),r]}function Qi(t,n,i){var e=Ot(t),r=Ot(n),a=Je(r);if(e){var o=1/qt(e),l=1/(Yt(e)*Yt(e)),c=-(l+i*(a*a*o*o)-1+i),h=(i-1)*l,u=(-c+J(c*c-4*h))/2;return[Lt(St(1/J(u)),i)*En(t),Lt(St(J((u/l-1)/i)),1-i)*En(n)]}return[0,Lt(St(a),1-i)*En(n)]}function Lt(t,n){if(!n)return t;if(n===1)return Ut(Yt(t/2+Ji));for(var i=1,e=J(1-n),r=J(n),a=0;Ot(r)>on;a++){if(t%H){var o=St(e*Yt(t)/i);o<0&&(o+=H),t+=o+~~(t/H)*H}else t+=t;r=(i+e)/2,e=J(i*e),r=((i=r)-e)/2}return t/(Xi(2,a)*i)}function Ve(t,n){var i=(mn-1)/(mn+1),e=J(1-i*i),r=Lt(et,e*e),a=-1,o=Ut(Yt(H/4+Ot(n)/2)),l=ft(a*o)/J(i),c=xi(l*rn(a*t),l*qt(a*t)),h=Qi(c[0],c[1],e*e);return[-h[1],(n>=0?1:-1)*(.5*r-h[0])]}function xi(t,n){var i=t*t,e=n+1,r=1-i-n*n;return[.5*((t>=0?et:-et)-Xe(r,2*t)),-.25*Ut(r*r+4*i)+.5*Ut(e*e+i)]}function tr(t,n){var i=n[0]*n[0]+n[1]*n[1];return[(t[0]*n[0]+t[1]*n[1])/i,(t[1]*n[0]-t[0]*n[1])/i]}Ve.invert=function(t,n){var i=(mn-1)/(mn+1),e=J(1-i*i),r=Lt(et,e*e),a=-1,o=Ki(.5*r-n,-t,e*e),l=tr(o[0],o[1]),c=Xe(l[1],l[0])/a;return[c,2*St(ft(.5/a*Ut(i*l[0]*l[0]+i*l[1]*l[1])))-et]};function nr(){return Yi(Wi(Ve)).scale(151.496)}function er(t){return t}function ir(t){if(t==null)return er;var n,i,e=t.scale[0],r=t.scale[1],a=t.translate[0],o=t.translate[1];return function(l,c){c||(n=i=0);var h=2,u=l.length,s=new Array(u);for(s[0]=(n+=l[0])*e+a,s[1]=(i+=l[1])*r+o;h<u;)s[h]=l[h],++h;return s}}function rr(t,n){for(var i,e=t.length,r=e-n;r<--e;)i=t[r],t[r++]=t[e],t[e]=i}function or(t,n){return n.type==="GeometryCollection"?{type:"FeatureCollection",features:n.geometries.map(function(i){return ge(t,i)})}:ge(t,n)}function ge(t,n){var i=n.id,e=n.bbox,r=n.properties==null?{}:n.properties,a=ar(t,n);return i==null&&e==null?{type:"Feature",properties:r,geometry:a}:e==null?{type:"Feature",id:i,properties:r,geometry:a}:{type:"Feature",id:i,bbox:e,properties:r,geometry:a}}function ar(t,n){var i=ir(t.transform),e=t.arcs;function r(u,s){s.length&&s.pop();for(var f=e[u<0?~u:u],p=0,g=f.length;p<g;++p)s.push(i(f[p],p));u<0&&rr(s,g)}function a(u){return i(u)}function o(u){for(var s=[],f=0,p=u.length;f<p;++f)r(u[f],s);return s.length<2&&s.push(s[0]),s}function l(u){for(var s=o(u);s.length<4;)s.push(s[0]);return s}function c(u){return u.map(l)}function h(u){var s=u.type,f;switch(s){case"GeometryCollection":return{type:s,geometries:u.geometries.map(h)};case"Point":f=a(u.coordinates);break;case"MultiPoint":f=u.coordinates.map(a);break;case"LineString":f=o(u.arcs);break;case"MultiLineString":f=u.arcs.map(o);break;case"Polygon":f=c(u.arcs);break;case"MultiPolygon":f=u.arcs.map(c);break;default:return null}return{type:s,coordinates:f}}return h(n)}let Dt=ii("undefined");function de(t,n,i){const e=t.slice();return e[9]=n[i],e}function ve(t,n,i){const e=t.slice();return e[12]=n[i],e}function me(t){let n,i,e,r,a=_t(t[5]),o=[];for(let h=0;h<a.length;h+=1)o[h]=we(ve(t,a,h));let l=_t(t[0]),c=[];for(let h=0;h<l.length;h+=1)c[h]=_e(de(t,l,h));return{c(){n=It("svg"),i=It("g");for(let h=0;h<o.length;h+=1)o[h].c();e=It("g");for(let h=0;h<c.length;h+=1)c[h].c();this.h()},l(h){n=Nt(h,"svg",{viewBox:!0});var u=Q(n);i=Nt(u,"g",{fill:!0});var s=Q(i);for(let p=0;p<o.length;p+=1)o[p].l(s);s.forEach(q),e=Nt(u,"g",{fill:!0});var f=Q(e);for(let p=0;p<c.length;p+=1)c[p].l(f);f.forEach(q),u.forEach(q),this.h()},h(){b(i,"fill","#1A1A1A"),b(e,"fill","#FFF9D2"),b(n,"viewBox",r="0 0 "+t[1]+" "+t[2])},m(h,u){X(h,n,u),pt(n,i);for(let s=0;s<o.length;s+=1)o[s]&&o[s].m(i,null);pt(n,e);for(let s=0;s<c.length;s+=1)c[s]&&c[s].m(e,null)},p(h,u){if(u&48){a=_t(h[5]);let s;for(s=0;s<a.length;s+=1){const f=ve(h,a,s);o[s]?o[s].p(f,u):(o[s]=we(f),o[s].c(),o[s].m(i,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=a.length}if(u&73){l=_t(h[0]);let s;for(s=0;s<l.length;s+=1){const f=de(h,l,s);c[s]?c[s].p(f,u):(c[s]=_e(f),c[s].c(),c[s].m(e,null))}for(;s<c.length;s+=1)c[s].d(1);c.length=l.length}u&6&&r!==(r="0 0 "+h[1]+" "+h[2])&&b(n,"viewBox",r)},d(h){h&&q(n),Cn(o,h),Cn(c,h)}}}function we(t){let n,i;return{c(){n=It("path"),this.h()},l(e){n=Nt(e,"path",{d:!0,class:!0}),Q(n).forEach(q),this.h()},h(){b(n,"d",i=t[4](t[12])),b(n,"class","state")},m(e,r){X(e,n,r)},p(e,r){r&48&&i!==(i=e[4](e[12]))&&b(n,"d",i)},d(e){e&&q(n)}}}function _e(t){let n,i,e,r;function a(){return t[7](t[9])}return{c(){n=It("circle"),this.h()},l(o){n=Nt(o,"circle",{r:!0,stroke:!0,transform:!0,class:!0}),Q(n).forEach(q),this.h()},h(){b(n,"r","3"),b(n,"stroke","black"),b(n,"transform",i="translate("+t[3]([t[9].Longitude,t[9].Latitude])+")"),b(n,"class","svelte-40v9ao"),an(n,"selected",t[6]==t[9].img)},m(o,l){X(o,n,l),e||(r=Rn(n,"mouseover",a),e=!0)},p(o,l){t=o,l&9&&i!==(i="translate("+t[3]([t[9].Longitude,t[9].Latitude])+")")&&b(n,"transform",i),l&65&&an(n,"selected",t[6]==t[9].img)},d(o){o&&q(n),e=!1,r()}}}function sr(t){let n,i,e=t[3]!=null&&me(t);return{c(){n=st("section"),e&&e.c(),this.h()},l(r){n=lt(r,"SECTION",{id:!0,class:!0});var a=Q(n);e&&e.l(a),a.forEach(q),this.h()},h(){b(n,"id","map"),b(n,"class","svelte-40v9ao"),je(()=>t[8].call(n))},m(r,a){X(r,n,a),e&&e.m(n,null),i=xe(n,t[8].bind(n))},p(r,[a]){r[3]!=null?e?e.p(r,a):(e=me(r),e.c(),e.m(n,null)):e&&(e.d(1),e=null)},i:nt,o:nt,d(r){r&&q(n),e&&e.d(),i()}}}function lr(t,n,i){let e;ke(t,Dt,f=>i(6,e=f));let{data:r}=n,a,o,l,c,h=[];$e(async()=>{const f=await fetch("https://gist.githubusercontent.com/sinanatra/91a7736f19e6636592703a459a8bfe75/raw/ca86b3ea72d66a68945624f3e933445c766aa28f/pixel25.json").then(p=>p.json());i(5,h=or(f,f.objects.pixel25).features),i(3,l=nr().translate([a/2,o/2]).angle(-90).rotate([18,-90])),i(4,c=Ni().projection(l))});const u=f=>{An(Dt,e=f.img,e)};function s(){a=this.clientWidth,o=this.clientHeight,i(1,a),i(2,o)}return t.$$set=f=>{"data"in f&&i(0,r=f.data)},[r,a,o,l,c,h,e,u,s]}let ur=class extends Xt{constructor(n){super(),Jt(this,n,lr,sr,Ht,{data:0})}};function cr(t){let n,i,e,r,a,o,l,c=t[0].city+"",h,u,s;return{c(){n=st("a"),i=st("img"),o=sn(),l=st("h4"),h=ti(c),this.h()},l(f){n=lt(f,"A",{href:!0,target:!0,rel:!0});var p=Q(n);i=lt(p,"IMG",{src:!0,alt:!0,srcset:!0,onerror:!0,class:!0}),p.forEach(q),o=ln(f),l=lt(f,"H4",{class:!0});var g=Q(l);h=ni(g,c),g.forEach(q),this.h()},h(){Vn(i.src,e="https://lh3.googleusercontent.com/d/"+t[0].img.replace("https://drive.google.com/u/0/open?usp=forms_web&id=",""))||b(i,"src",e),b(i,"alt",""),We(i,r="")||b(i,"srcset",r),b(i,"onerror","this.style.visibility='hidden'"),b(i,"class","svelte-893of3"),an(i,"selected",t[3]==t[0].img),b(n,"href",a=t[0].img),b(n,"target","_blank"),b(n,"rel","noopener noreferrer"),b(l,"class","svelte-893of3")},m(f,p){X(f,n,p),pt(n,i),t[6](i),X(f,o,p),X(f,l,p),pt(l,h),u||(s=[Rn(i,"mouseover",t[4]),Rn(i,"focus",t[5])],u=!0)},p(f,[p]){p&1&&!Vn(i.src,e="https://lh3.googleusercontent.com/d/"+f[0].img.replace("https://drive.google.com/u/0/open?usp=forms_web&id=",""))&&b(i,"src",e),p&9&&an(i,"selected",f[3]==f[0].img),p&1&&a!==(a=f[0].img)&&b(n,"href",a),p&1&&c!==(c=f[0].city+"")&&ei(h,c)},i:nt,o:nt,d(f){f&&(q(n),q(o),q(l)),t[6](null),u=!1,Ke(s)}}}function fr(t,n,i){let e;ke(t,Dt,u=>i(3,e=u));let{data:r}=n,a,o=!0;const l=()=>{i(2,o=!1),An(Dt,e=r.img,e)},c=()=>{i(2,o=!1),An(Dt,e=r.img,e)};function h(u){Qe[u?"unshift":"push"](()=>{a=u,i(1,a)})}return t.$$set=u=>{"data"in u&&i(0,r=u.data)},t.$$.update=()=>{t.$$.dirty&14&&o&&a&&a.classList.contains("selected")&&(console.log(a.classList),a.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"}))},[r,a,o,e,l,c,h]}class hr extends Xt{constructor(n){super(),Jt(this,n,fr,cr,Ht,{data:0})}}function ye(t,n,i){const e=t.slice();return e[1]=n[i],e}function Se(t){let n,i,e,r;return i=new hr({props:{data:t[1]}}),{c(){n=st("div"),Qt(i.$$.fragment),e=sn(),this.h()},l(a){n=lt(a,"DIV",{class:!0});var o=Q(n);xt(i.$$.fragment,o),e=ln(o),o.forEach(q),this.h()},h(){b(n,"class","svelte-qsuuoh")},m(a,o){X(a,n,o),tn(i,n,null),pt(n,e),r=!0},p(a,o){const l={};o&1&&(l.data=a[1]),i.$set(l)},i(a){r||(ut(i.$$.fragment,a),r=!0)},o(a){ct(i.$$.fragment,a),r=!1},d(a){a&&q(n),nn(i)}}}function pr(t){let n,i,e=_t(t[0]),r=[];for(let o=0;o<e.length;o+=1)r[o]=Se(ye(t,e,o));const a=o=>ct(r[o],1,1,()=>{r[o]=null});return{c(){n=st("section");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){n=lt(o,"SECTION",{class:!0});var l=Q(n);for(let c=0;c<r.length;c+=1)r[c].l(l);l.forEach(q),this.h()},h(){b(n,"class","gallery svelte-qsuuoh")},m(o,l){X(o,n,l);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(n,null);i=!0},p(o,[l]){if(l&1){e=_t(o[0]);let c;for(c=0;c<e.length;c+=1){const h=ye(o,e,c);r[c]?(r[c].p(h,l),ut(r[c],1)):(r[c]=Se(h),r[c].c(),ut(r[c],1),r[c].m(n,null))}for(Ae(),c=e.length;c<r.length;c+=1)a(c);Ce()}},i(o){if(!i){for(let l=0;l<e.length;l+=1)ut(r[l]);i=!0}},o(o){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)ct(r[l]);i=!1},d(o){o&&q(n),Cn(r,o)}}}function gr(t,n,i){let{data:e}=n;return t.$$set=r=>{"data"in r&&i(0,e=r.data)},[e]}class dr extends Xt{constructor(n){super(),Jt(this,n,gr,pr,Ht,{data:0})}}var Ee={},kn={},$n=34,$t=10,Tn=13;function Ze(t){return new Function("d","return {"+t.map(function(n,i){return JSON.stringify(n)+": d["+i+'] || ""'}).join(",")+"}")}function vr(t,n){var i=Ze(t);return function(e,r){return n(i(e),r,t)}}function Me(t){var n=Object.create(null),i=[];return t.forEach(function(e){for(var r in e)r in n||i.push(n[r]=r)}),i}function U(t,n){var i=t+"",e=i.length;return e<n?new Array(n-e+1).join(0)+i:i}function mr(t){return t<0?"-"+U(-t,6):t>9999?"+"+U(t,6):U(t,4)}function wr(t){var n=t.getUTCHours(),i=t.getUTCMinutes(),e=t.getUTCSeconds(),r=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":mr(t.getUTCFullYear())+"-"+U(t.getUTCMonth()+1,2)+"-"+U(t.getUTCDate(),2)+(r?"T"+U(n,2)+":"+U(i,2)+":"+U(e,2)+"."+U(r,3)+"Z":e?"T"+U(n,2)+":"+U(i,2)+":"+U(e,2)+"Z":i||n?"T"+U(n,2)+":"+U(i,2)+"Z":"")}function _r(t){var n=new RegExp('["'+t+`
\r]`),i=t.charCodeAt(0);function e(s,f){var p,g,m=r(s,function(v,S){if(p)return p(v,S-1);g=v,p=f?vr(v,f):Ze(v)});return m.columns=g||[],m}function r(s,f){var p=[],g=s.length,m=0,v=0,S,_=g<=0,y=!1;s.charCodeAt(g-1)===$t&&--g,s.charCodeAt(g-1)===Tn&&--g;function w(){if(_)return kn;if(y)return y=!1,Ee;var M,C=m,$;if(s.charCodeAt(C)===$n){for(;m++<g&&s.charCodeAt(m)!==$n||s.charCodeAt(++m)===$n;);return(M=m)>=g?_=!0:($=s.charCodeAt(m++))===$t?y=!0:$===Tn&&(y=!0,s.charCodeAt(m)===$t&&++m),s.slice(C+1,M-1).replace(/""/g,'"')}for(;m<g;){if(($=s.charCodeAt(M=m++))===$t)y=!0;else if($===Tn)y=!0,s.charCodeAt(m)===$t&&++m;else if($!==i)continue;return s.slice(C,M)}return _=!0,s.slice(C,g)}for(;(S=w())!==kn;){for(var E=[];S!==Ee&&S!==kn;)E.push(S),S=w();f&&(E=f(E,v++))==null||p.push(E)}return p}function a(s,f){return s.map(function(p){return f.map(function(g){return u(p[g])}).join(t)})}function o(s,f){return f==null&&(f=Me(s)),[f.map(u).join(t)].concat(a(s,f)).join(`
`)}function l(s,f){return f==null&&(f=Me(s)),a(s,f).join(`
`)}function c(s){return s.map(h).join(`
`)}function h(s){return s.map(u).join(t)}function u(s){return s==null?"":s instanceof Date?wr(s):n.test(s+="")?'"'+s.replace(/"/g,'""')+'"':s}return{parse:e,parseRows:r,format:o,formatBody:l,formatRows:c,formatRow:h,formatValue:u}}var yr=_r("	"),Sr=yr.parse;function Er(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Mr(t,n){return fetch(t,n).then(Er)}function kr(t){return function(n,i,e){return arguments.length===2&&typeof i=="function"&&(e=i,i=void 0),Mr(n,i).then(function(r){return t(r,e)})}}var $r=kr(Sr);function Pt(t,n,i){this.k=t,this.x=n,this.y=i}Pt.prototype={constructor:Pt,scale:function(t){return t===1?this:new Pt(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new Pt(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Pt.prototype;function Tr(t){let n,i,e,r,a,o,l;return i=new oi({}),r=new ur({props:{data:t[0]}}),o=new dr({props:{data:t[0]}}),{c(){n=st("article"),Qt(i.$$.fragment),e=sn(),Qt(r.$$.fragment),a=sn(),Qt(o.$$.fragment),this.h()},l(c){n=lt(c,"ARTICLE",{class:!0});var h=Q(n);xt(i.$$.fragment,h),e=ln(h),xt(r.$$.fragment,h),a=ln(h),xt(o.$$.fragment,h),h.forEach(q),this.h()},h(){b(n,"class","container svelte-1t3cxt")},m(c,h){X(c,n,h),tn(i,n,null),pt(n,e),tn(r,n,null),pt(n,a),tn(o,n,null),l=!0},p(c,h){const u={};h&1&&(u.data=c[0]),r.$set(u);const s={};h&1&&(s.data=c[0]),o.$set(s)},i(c){l||(ut(i.$$.fragment,c),ut(r.$$.fragment,c),ut(o.$$.fragment,c),l=!0)},o(c){ct(i.$$.fragment,c),ct(r.$$.fragment,c),ct(o.$$.fragment,c),l=!1},d(c){c&&q(n),nn(i),nn(r),nn(o)}}}function Ar(t){let n,i="Loading...";return{c(){n=st("article"),n.textContent=i,this.h()},l(e){n=lt(e,"ARTICLE",{class:!0,"data-svelte-h":!0}),Te(n)!=="svelte-1qk6kpe"&&(n.textContent=i),this.h()},h(){b(n,"class","svelte-1t3cxt")},m(e,r){X(e,n,r)},p:nt,i:nt,o:nt,d(e){e&&q(n)}}}function Cr(t){let n,i,e,r;const a=[Ar,Tr],o=[];function l(c,h){return c[0].length==0?0:1}return n=l(t),i=o[n]=a[n](t),{c(){i.c(),e=Zn()},l(c){i.l(c),e=Zn()},m(c,h){o[n].m(c,h),X(c,e,h),r=!0},p(c,[h]){let u=n;n=l(c),n===u?o[n].p(c,h):(Ae(),ct(o[u],1,1,()=>{o[u]=null}),Ce(),i=o[n],i?i.p(c,h):(i=o[n]=a[n](c),i.c()),ut(i,1),i.m(e.parentNode,e))},i(c){r||(ut(i),r=!0)},o(c){ct(i),r=!1},d(c){c&&q(e),o[n].d(c)}}}function Rr(t,n,i){let e=[];return $e(async r=>{i(0,e=await $r("windows.tsv"))}),[e]}class qr extends Xt{constructor(n){super(),Jt(this,n,Rr,Cr,Ht,{})}}export{qr as component};
